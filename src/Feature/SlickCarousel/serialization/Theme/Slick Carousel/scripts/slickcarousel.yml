---
ID: "a5dab22f-b77a-4224-9d77-5fd302cc9dca"
Parent: "ae4ff754-45d5-44dd-8865-4902f0f6695f"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: /sitecore/media library/Base Themes/Slick Carousel/scripts/slickcarousel
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/A5DAB22FB77A42249D775FD302CC9DCA.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "085f35ec-b597-44a1-9963-8ef59f3fde99"
  Value: 77u/LyoNCiAgICAgXyBfICAgICAgXyAgICAgICBfDQogX19ffCAoXykgX19ffCB8IF9fICAoXylfX18NCi8gX198IHwgfC8gX198IHwvIC8gIHwgLyBfX3wNClxfXyBcIHwgfCAoX198ICAgPCBfIHwgXF9fIFwNCnxfX18vX3xffFxfX198X3xcXyhfKS8gfF9fXy8NCiAgICAgICAgICAgICAgICAgICB8X18vDQoNCiBWZXJzaW9uOiAxLjYuMA0KICBBdXRob3I6IEtlbiBXaGVlbGVyDQogV2Vic2l0ZTogaHR0cDovL2tlbndoZWVsZXIuZ2l0aHViLmlvDQogICAgRG9jczogaHR0cDovL2tlbndoZWVsZXIuZ2l0aHViLmlvL3NsaWNrDQogICAgUmVwbzogaHR0cDovL2dpdGh1Yi5jb20va2Vud2hlZWxlci9zbGljaw0KICBJc3N1ZXM6IGh0dHA6Ly9naXRodWIuY29tL2tlbndoZWVsZXIvc2xpY2svaXNzdWVzDQoNCiAqLw0KIWZ1bmN0aW9uIChhKSB7ICJ1c2Ugc3RyaWN0IjsgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWyJqcXVlcnkiXSwgYSkgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZXhwb3J0cyA/IG1vZHVsZS5leHBvcnRzID0gYShyZXF1aXJlKCJqcXVlcnkiKSkgOiBhKGpRdWVyeSkgfShmdW5jdGlvbiAoYSkgew0KICAgICJ1c2Ugc3RyaWN0IjsgdmFyIGIgPSB3aW5kb3cuU2xpY2sgfHwge307IGIgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGMoYywgZCkgeyB2YXIgZiwgZSA9IHRoaXM7IGUuZGVmYXVsdHMgPSB7IGFjY2Vzc2liaWxpdHk6ICEwLCBhZGFwdGl2ZUhlaWdodDogITEsIGFwcGVuZEFycm93czogYShjKSwgYXBwZW5kRG90czogYShjKSwgYXJyb3dzOiAhMCwgYXNOYXZGb3I6IG51bGwsIHByZXZBcnJvdzogJzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLXJvbGU9Im5vbmUiIGNsYXNzPSJzbGljay1wcmV2IiBhcmlhLWxhYmVsPSJQcmV2aW91cyIgdGFiaW5kZXg9IjAiIHJvbGU9ImJ1dHRvbiI+UHJldmlvdXM8L2J1dHRvbj4nLCBuZXh0QXJyb3c6ICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1yb2xlPSJub25lIiBjbGFzcz0ic2xpY2stbmV4dCIgYXJpYS1sYWJlbD0iTmV4dCIgdGFiaW5kZXg9IjAiIHJvbGU9ImJ1dHRvbiI+TmV4dDwvYnV0dG9uPicsIGF1dG9wbGF5OiAhMSwgYXV0b3BsYXlTcGVlZDogM2UzLCBjZW50ZXJNb2RlOiAhMSwgY2VudGVyUGFkZGluZzogIjUwcHgiLCBjc3NFYXNlOiAiZWFzZSIsIGN1c3RvbVBhZ2luZzogZnVuY3Rpb24gKGIsIGMpIHsgcmV0dXJuIGEoJzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLXJvbGU9Im5vbmUiIHJvbGU9ImJ1dHRvbiIgdGFiaW5kZXg9IjAiIC8+JykudGV4dChjICsgMSkgfSwgZG90czogITEsIGRvdHNDbGFzczogInNsaWNrLWRvdHMiLCBkcmFnZ2FibGU6ICEwLCBlYXNpbmc6ICJsaW5lYXIiLCBlZGdlRnJpY3Rpb246IC4zNSwgZmFkZTogITEsIGZvY3VzT25TZWxlY3Q6ICExLCBpbmZpbml0ZTogITAsIGluaXRpYWxTbGlkZTogMCwgbGF6eUxvYWQ6ICJvbmRlbWFuZCIsIG1vYmlsZUZpcnN0OiAhMSwgcGF1c2VPbkhvdmVyOiAhMCwgcGF1c2VPbkZvY3VzOiAhMCwgcGF1c2VPbkRvdHNIb3ZlcjogITEsIHJlc3BvbmRUbzogIndpbmRvdyIsIHJlc3BvbnNpdmU6IG51bGwsIHJvd3M6IDEsIHJ0bDogITEsIHNsaWRlOiAiIiwgc2xpZGVzUGVyUm93OiAxLCBzbGlkZXNUb1Nob3c6IDEsIHNsaWRlc1RvU2Nyb2xsOiAxLCBzcGVlZDogNTAwLCBzd2lwZTogITAsIHN3aXBlVG9TbGlkZTogITEsIHRvdWNoTW92ZTogITAsIHRvdWNoVGhyZXNob2xkOiA1LCB1c2VDU1M6ICEwLCB1c2VUcmFuc2Zvcm06ICEwLCB2YXJpYWJsZVdpZHRoOiAhMSwgdmVydGljYWw6ICExLCB2ZXJ0aWNhbFN3aXBpbmc6ICExLCB3YWl0Rm9yQW5pbWF0ZTogITAsIHpJbmRleDogMWUzIH0sIGUuaW5pdGlhbHMgPSB7IGFuaW1hdGluZzogITEsIGRyYWdnaW5nOiAhMSwgYXV0b1BsYXlUaW1lcjogbnVsbCwgY3VycmVudERpcmVjdGlvbjogMCwgY3VycmVudExlZnQ6IG51bGwsIGN1cnJlbnRTbGlkZTogMCwgZGlyZWN0aW9uOiAxLCAkZG90czogbnVsbCwgbGlzdFdpZHRoOiBudWxsLCBsaXN0SGVpZ2h0OiBudWxsLCBsb2FkSW5kZXg6IDAsICRuZXh0QXJyb3c6IG51bGwsICRwcmV2QXJyb3c6IG51bGwsIHNsaWRlQ291bnQ6IG51bGwsIHNsaWRlV2lkdGg6IG51bGwsICRzbGlkZVRyYWNrOiBudWxsLCAkc2xpZGVzOiBudWxsLCBzbGlkaW5nOiAhMSwgc2xpZGVPZmZzZXQ6IDAsIHN3aXBlTGVmdDogbnVsbCwgJGxpc3Q6IG51bGwsIHRvdWNoT2JqZWN0OiB7fSwgdHJhbnNmb3Jtc0VuYWJsZWQ6ICExLCB1bnNsaWNrZWQ6ICExIH0sIGEuZXh0ZW5kKGUsIGUuaW5pdGlhbHMpLCBlLmFjdGl2ZUJyZWFrcG9pbnQgPSBudWxsLCBlLmFuaW1UeXBlID0gbnVsbCwgZS5hbmltUHJvcCA9IG51bGwsIGUuYnJlYWtwb2ludHMgPSBbXSwgZS5icmVha3BvaW50U2V0dGluZ3MgPSBbXSwgZS5jc3NUcmFuc2l0aW9ucyA9ICExLCBlLmZvY3Vzc2VkID0gITEsIGUuaW50ZXJydXB0ZWQgPSAhMSwgZS5oaWRkZW4gPSAiaGlkZGVuIiwgZS5wYXVzZWQgPSAhMCwgZS5wb3NpdGlvblByb3AgPSBudWxsLCBlLnJlc3BvbmRUbyA9IG51bGwsIGUucm93Q291bnQgPSAxLCBlLnNob3VsZENsaWNrID0gITAsIGUuJHNsaWRlciA9IGEoYyksIGUuJHNsaWRlc0NhY2hlID0gbnVsbCwgZS50cmFuc2Zvcm1UeXBlID0gbnVsbCwgZS50cmFuc2l0aW9uVHlwZSA9IG51bGwsIGUudmlzaWJpbGl0eUNoYW5nZSA9ICJ2aXNpYmlsaXR5Y2hhbmdlIiwgZS53aW5kb3dXaWR0aCA9IDAsIGUud2luZG93VGltZXIgPSBudWxsLCBmID0gYShjKS5kYXRhKCJzbGljayIpIHx8IHt9LCBlLm9wdGlvbnMgPSBhLmV4dGVuZCh7fSwgZS5kZWZhdWx0cywgZCwgZiksIGUuY3VycmVudFNsaWRlID0gZS5vcHRpb25zLmluaXRpYWxTbGlkZSwgZS5vcmlnaW5hbFNldHRpbmdzID0gZS5vcHRpb25zLCAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZG9jdW1lbnQubW96SGlkZGVuID8gKGUuaGlkZGVuID0gIm1vekhpZGRlbiIsIGUudmlzaWJpbGl0eUNoYW5nZSA9ICJtb3p2aXNpYmlsaXR5Y2hhbmdlIikgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuICYmIChlLmhpZGRlbiA9ICJ3ZWJraXRIaWRkZW4iLCBlLnZpc2liaWxpdHlDaGFuZ2UgPSAid2Via2l0dmlzaWJpbGl0eWNoYW5nZSIpLCBlLmF1dG9QbGF5ID0gYS5wcm94eShlLmF1dG9QbGF5LCBlKSwgZS5hdXRvUGxheUNsZWFyID0gYS5wcm94eShlLmF1dG9QbGF5Q2xlYXIsIGUpLCBlLmF1dG9QbGF5SXRlcmF0b3IgPSBhLnByb3h5KGUuYXV0b1BsYXlJdGVyYXRvciwgZSksIGUuY2hhbmdlU2xpZGUgPSBhLnByb3h5KGUuY2hhbmdlU2xpZGUsIGUpLCBlLmNsaWNrSGFuZGxlciA9IGEucHJveHkoZS5jbGlja0hhbmRsZXIsIGUpLCBlLnNlbGVjdEhhbmRsZXIgPSBhLnByb3h5KGUuc2VsZWN0SGFuZGxlciwgZSksIGUuc2V0UG9zaXRpb24gPSBhLnByb3h5KGUuc2V0UG9zaXRpb24sIGUpLCBlLnN3aXBlSGFuZGxlciA9IGEucHJveHkoZS5zd2lwZUhhbmRsZXIsIGUpLCBlLmRyYWdIYW5kbGVyID0gYS5wcm94eShlLmRyYWdIYW5kbGVyLCBlKSwgZS5rZXlIYW5kbGVyID0gYS5wcm94eShlLmtleUhhbmRsZXIsIGUpLCBlLmluc3RhbmNlVWlkID0gYisrLCBlLmh0bWxFeHByID0gL14oPzpccyooPFtcd1xXXSs+KVtePl0qKSQvLCBlLnJlZ2lzdGVyQnJlYWtwb2ludHMoKSwgZS5pbml0KCEwKSB9IHZhciBiID0gMDsgcmV0dXJuIGMgfSgpLCBiLnByb3RvdHlwZS5hY3RpdmF0ZUFEQSA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1hY3RpdmUiKS5hdHRyKHsgImFyaWEtaGlkZGVuIjogImZhbHNlIiB9KS5maW5kKCJhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3QiKS5hdHRyKHsgdGFiaW5kZXg6ICIwIiB9KSB9LCBiLnByb3RvdHlwZS5hZGRTbGlkZSA9IGIucHJvdG90eXBlLnNsaWNrQWRkID0gZnVuY3Rpb24gKGIsIGMsIGQpIHsgdmFyIGUgPSB0aGlzOyBpZiAoImJvb2xlYW4iID09IHR5cGVvZiBjKSBkID0gYywgYyA9IG51bGw7IGVsc2UgaWYgKDAgPiBjIHx8IGMgPj0gZS5zbGlkZUNvdW50KSByZXR1cm4gITE7IGUudW5sb2FkKCksICJudW1iZXIiID09IHR5cGVvZiBjID8gMCA9PT0gYyAmJiAwID09PSBlLiRzbGlkZXMubGVuZ3RoID8gYShiKS5hcHBlbmRUbyhlLiRzbGlkZVRyYWNrKSA6IGQgPyBhKGIpLmluc2VydEJlZm9yZShlLiRzbGlkZXMuZXEoYykpIDogYShiKS5pbnNlcnRBZnRlcihlLiRzbGlkZXMuZXEoYykpIDogZCA9PT0gITAgPyBhKGIpLnByZXBlbmRUbyhlLiRzbGlkZVRyYWNrKSA6IGEoYikuYXBwZW5kVG8oZS4kc2xpZGVUcmFjayksIGUuJHNsaWRlcyA9IGUuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKSwgZS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLCBlLiRzbGlkZVRyYWNrLmFwcGVuZChlLiRzbGlkZXMpLCBlLiRzbGlkZXMuZWFjaChmdW5jdGlvbiAoYiwgYykgeyBhKGMpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLCBiKSB9KSwgZS4kc2xpZGVzQ2FjaGUgPSBlLiRzbGlkZXMsIGUucmVpbml0KCkgfSwgYi5wcm90b3R5cGUuYW5pbWF0ZUhlaWdodCA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBpZiAoMSA9PT0gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBhLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgPT09ICEwICYmIGEub3B0aW9ucy52ZXJ0aWNhbCA9PT0gITEpIHsgdmFyIGIgPSBhLiRzbGlkZXMuZXEoYS5jdXJyZW50U2xpZGUpLm91dGVySGVpZ2h0KCEwKTsgYS4kbGlzdC5hbmltYXRlKHsgaGVpZ2h0OiBiIH0sIGEub3B0aW9ucy5zcGVlZCkgfSB9LCBiLnByb3RvdHlwZS5hbmltYXRlU2xpZGUgPSBmdW5jdGlvbiAoYiwgYykgeyB2YXIgZCA9IHt9LCBlID0gdGhpczsgZS5hbmltYXRlSGVpZ2h0KCksIGUub3B0aW9ucy5ydGwgPT09ICEwICYmIGUub3B0aW9ucy52ZXJ0aWNhbCA9PT0gITEgJiYgKGIgPSAtYiksIGUudHJhbnNmb3Jtc0VuYWJsZWQgPT09ICExID8gZS5vcHRpb25zLnZlcnRpY2FsID09PSAhMSA/IGUuJHNsaWRlVHJhY2suYW5pbWF0ZSh7IGxlZnQ6IGIgfSwgZS5vcHRpb25zLnNwZWVkLCBlLm9wdGlvbnMuZWFzaW5nLCBjKSA6IGUuJHNsaWRlVHJhY2suYW5pbWF0ZSh7IHRvcDogYiB9LCBlLm9wdGlvbnMuc3BlZWQsIGUub3B0aW9ucy5lYXNpbmcsIGMpIDogZS5jc3NUcmFuc2l0aW9ucyA9PT0gITEgPyAoZS5vcHRpb25zLnJ0bCA9PT0gITAgJiYgKGUuY3VycmVudExlZnQgPSAtZS5jdXJyZW50TGVmdCksIGEoeyBhbmltU3RhcnQ6IGUuY3VycmVudExlZnQgfSkuYW5pbWF0ZSh7IGFuaW1TdGFydDogYiB9LCB7IGR1cmF0aW9uOiBlLm9wdGlvbnMuc3BlZWQsIGVhc2luZzogZS5vcHRpb25zLmVhc2luZywgc3RlcDogZnVuY3Rpb24gKGEpIHsgYSA9IE1hdGguY2VpbChhKSwgZS5vcHRpb25zLnZlcnRpY2FsID09PSAhMSA/IChkW2UuYW5pbVR5cGVdID0gInRyYW5zbGF0ZSgiICsgYSArICJweCwgMHB4KSIsIGUuJHNsaWRlVHJhY2suY3NzKGQpKSA6IChkW2UuYW5pbVR5cGVdID0gInRyYW5zbGF0ZSgwcHgsIiArIGEgKyAicHgpIiwgZS4kc2xpZGVUcmFjay5jc3MoZCkpIH0sIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IGMgJiYgYy5jYWxsKCkgfSB9KSkgOiAoZS5hcHBseVRyYW5zaXRpb24oKSwgYiA9IE1hdGguY2VpbChiKSwgZS5vcHRpb25zLnZlcnRpY2FsID09PSAhMSA/IGRbZS5hbmltVHlwZV0gPSAidHJhbnNsYXRlM2QoIiArIGIgKyAicHgsIDBweCwgMHB4KSIgOiBkW2UuYW5pbVR5cGVdID0gInRyYW5zbGF0ZTNkKDBweCwiICsgYiArICJweCwgMHB4KSIsIGUuJHNsaWRlVHJhY2suY3NzKGQpLCBjICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBlLmRpc2FibGVUcmFuc2l0aW9uKCksIGMuY2FsbCgpIH0sIGUub3B0aW9ucy5zcGVlZCkpIH0sIGIucHJvdG90eXBlLmdldE5hdlRhcmdldCA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzLCBjID0gYi5vcHRpb25zLmFzTmF2Rm9yOyByZXR1cm4gYyAmJiBudWxsICE9PSBjICYmIChjID0gYShjKS5ub3QoYi4kc2xpZGVyKSksIGMgfSwgYi5wcm90b3R5cGUuYXNOYXZGb3IgPSBmdW5jdGlvbiAoYikgeyB2YXIgYyA9IHRoaXMsIGQgPSBjLmdldE5hdlRhcmdldCgpOyBudWxsICE9PSBkICYmICJvYmplY3QiID09IHR5cGVvZiBkICYmIGQuZWFjaChmdW5jdGlvbiAoKSB7IHZhciBjID0gYSh0aGlzKS5zbGljaygiZ2V0U2xpY2siKTsgYy51bnNsaWNrZWQgfHwgYy5zbGlkZUhhbmRsZXIoYiwgITApIH0pIH0sIGIucHJvdG90eXBlLmFwcGx5VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChhKSB7IHZhciBiID0gdGhpcywgYyA9IHt9OyBiLm9wdGlvbnMuZmFkZSA9PT0gITEgPyBjW2IudHJhbnNpdGlvblR5cGVdID0gYi50cmFuc2Zvcm1UeXBlICsgIiAiICsgYi5vcHRpb25zLnNwZWVkICsgIm1zICIgKyBiLm9wdGlvbnMuY3NzRWFzZSA6IGNbYi50cmFuc2l0aW9uVHlwZV0gPSAib3BhY2l0eSAiICsgYi5vcHRpb25zLnNwZWVkICsgIm1zICIgKyBiLm9wdGlvbnMuY3NzRWFzZSwgYi5vcHRpb25zLmZhZGUgPT09ICExID8gYi4kc2xpZGVUcmFjay5jc3MoYykgOiBiLiRzbGlkZXMuZXEoYSkuY3NzKGMpIH0sIGIucHJvdG90eXBlLmF1dG9QbGF5ID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEuYXV0b1BsYXlDbGVhcigpLCBhLnNsaWRlQ291bnQgPiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChhLmF1dG9QbGF5VGltZXIgPSBzZXRJbnRlcnZhbChhLmF1dG9QbGF5SXRlcmF0b3IsIGEub3B0aW9ucy5hdXRvcGxheVNwZWVkKSkgfSwgYi5wcm90b3R5cGUuYXV0b1BsYXlDbGVhciA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLmF1dG9QbGF5VGltZXIgJiYgY2xlYXJJbnRlcnZhbChhLmF1dG9QbGF5VGltZXIpIH0sIGIucHJvdG90eXBlLmF1dG9QbGF5SXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpcywgYiA9IGEuY3VycmVudFNsaWRlICsgYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOyBhLnBhdXNlZCB8fCBhLmludGVycnVwdGVkIHx8IGEuZm9jdXNzZWQgfHwgKGEub3B0aW9ucy5pbmZpbml0ZSA9PT0gITEgJiYgKDEgPT09IGEuZGlyZWN0aW9uICYmIGEuY3VycmVudFNsaWRlICsgMSA9PT0gYS5zbGlkZUNvdW50IC0gMSA/IGEuZGlyZWN0aW9uID0gMCA6IDAgPT09IGEuZGlyZWN0aW9uICYmIChiID0gYS5jdXJyZW50U2xpZGUgLSBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsIGEuY3VycmVudFNsaWRlIC0gMSA9PT0gMCAmJiAoYS5kaXJlY3Rpb24gPSAxKSkpLCBhLnNsaWRlSGFuZGxlcihiKSkgfSwgYi5wcm90b3R5cGUuYnVpbGRBcnJvd3MgPSBmdW5jdGlvbiAoKSB7IHZhciBiID0gdGhpczsgYi5vcHRpb25zLmFycm93cyA9PT0gITAgJiYgKGIuJHByZXZBcnJvdyA9IGEoYi5vcHRpb25zLnByZXZBcnJvdykuYWRkQ2xhc3MoInNsaWNrLWFycm93IiksIGIuJG5leHRBcnJvdyA9IGEoYi5vcHRpb25zLm5leHRBcnJvdykuYWRkQ2xhc3MoInNsaWNrLWFycm93IiksIGIuc2xpZGVDb3VudCA+IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyAoYi4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiB0YWJpbmRleCIpLCBiLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIHRhYmluZGV4IiksIGIuaHRtbEV4cHIudGVzdChiLm9wdGlvbnMucHJldkFycm93KSAmJiBiLiRwcmV2QXJyb3cucHJlcGVuZFRvKGIub3B0aW9ucy5hcHBlbmRBcnJvd3MpLCBiLmh0bWxFeHByLnRlc3QoYi5vcHRpb25zLm5leHRBcnJvdykgJiYgYi4kbmV4dEFycm93LmFwcGVuZFRvKGIub3B0aW9ucy5hcHBlbmRBcnJvd3MpLCBiLm9wdGlvbnMuaW5maW5pdGUgIT09ICEwICYmIGIuJHByZXZBcnJvdy5hZGRDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwgInRydWUiKSkgOiBiLiRwcmV2QXJyb3cuYWRkKGIuJG5leHRBcnJvdykuYWRkQ2xhc3MoInNsaWNrLWhpZGRlbiIpLmF0dHIoeyAiYXJpYS1kaXNhYmxlZCI6ICJ0cnVlIiwgdGFiaW5kZXg6ICItMSIgfSkpIH0sIGIucHJvdG90eXBlLmJ1aWxkRG90cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGMsIGQsIGIgPSB0aGlzOyBpZiAoYi5vcHRpb25zLmRvdHMgPT09ICEwICYmIGIuc2xpZGVDb3VudCA+IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHsgZm9yIChiLiRzbGlkZXIuYWRkQ2xhc3MoInNsaWNrLWRvdHRlZCIpLCBkID0gYSgiPHVsIC8+IikuYWRkQ2xhc3MoYi5vcHRpb25zLmRvdHNDbGFzcyksIGMgPSAwOyBjIDw9IGIuZ2V0RG90Q291bnQoKSA7IGMgKz0gMSkgZC5hcHBlbmQoYSgiPGxpIC8+IikuYXBwZW5kKGIub3B0aW9ucy5jdXN0b21QYWdpbmcuY2FsbCh0aGlzLCBiLCBjKSkpOyBiLiRkb3RzID0gZC5hcHBlbmRUbyhiLm9wdGlvbnMuYXBwZW5kRG90cyksIGIuJGRvdHMuZmluZCgibGkiKS5maXJzdCgpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsICJmYWxzZSIpIH0gfSwgYi5wcm90b3R5cGUuYnVpbGRPdXQgPSBmdW5jdGlvbiAoKSB7IHZhciBiID0gdGhpczsgYi4kc2xpZGVzID0gYi4kc2xpZGVyLmNoaWxkcmVuKGIub3B0aW9ucy5zbGlkZSArICI6bm90KC5zbGljay1jbG9uZWQpIikuYWRkQ2xhc3MoInNsaWNrLXNsaWRlIiksIGIuc2xpZGVDb3VudCA9IGIuJHNsaWRlcy5sZW5ndGgsIGIuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChiLCBjKSB7IGEoYykuYXR0cigiZGF0YS1zbGljay1pbmRleCIsIGIpLmRhdGEoIm9yaWdpbmFsU3R5bGluZyIsIGEoYykuYXR0cigic3R5bGUiKSB8fCAiIikgfSksIGIuJHNsaWRlci5hZGRDbGFzcygic2xpY2stc2xpZGVyIiksIGIuJHNsaWRlVHJhY2sgPSAwID09PSBiLnNsaWRlQ291bnQgPyBhKCc8ZGl2IGNsYXNzPSJzbGljay10cmFjayIvPicpLmFwcGVuZFRvKGIuJHNsaWRlcikgOiBiLiRzbGlkZXMud3JhcEFsbCgnPGRpdiBjbGFzcz0ic2xpY2stdHJhY2siLz4nKS5wYXJlbnQoKSwgYi4kbGlzdCA9IGIuJHNsaWRlVHJhY2sud3JhcCgnPGRpdiBhcmlhLWxpdmU9InBvbGl0ZSIgY2xhc3M9InNsaWNrLWxpc3QiLz4nKS5wYXJlbnQoKSwgYi4kc2xpZGVUcmFjay5jc3MoIm9wYWNpdHkiLCAwKSwgKGIub3B0aW9ucy5jZW50ZXJNb2RlID09PSAhMCB8fCBiLm9wdGlvbnMuc3dpcGVUb1NsaWRlID09PSAhMCkgJiYgKGIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA9IDEpLCBhKCJpbWdbZGF0YS1sYXp5XSIsIGIuJHNsaWRlcikubm90KCJbc3JjXSIpLmFkZENsYXNzKCJzbGljay1sb2FkaW5nIiksIGIuc2V0dXBJbmZpbml0ZSgpLCBiLmJ1aWxkQXJyb3dzKCksIGIuYnVpbGREb3RzKCksIGIudXBkYXRlRG90cygpLCBiLnNldFNsaWRlQ2xhc3NlcygibnVtYmVyIiA9PSB0eXBlb2YgYi5jdXJyZW50U2xpZGUgPyBiLmN1cnJlbnRTbGlkZSA6IDApLCBiLm9wdGlvbnMuZHJhZ2dhYmxlID09PSAhMCAmJiBiLiRsaXN0LmFkZENsYXNzKCJkcmFnZ2FibGUiKSB9LCBiLnByb3RvdHlwZS5idWlsZFJvd3MgPSBmdW5jdGlvbiAoKSB7IHZhciBiLCBjLCBkLCBlLCBmLCBnLCBoLCBhID0gdGhpczsgaWYgKGUgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIGcgPSBhLiRzbGlkZXIuY2hpbGRyZW4oKSwgYS5vcHRpb25zLnJvd3MgPiAxKSB7IGZvciAoaCA9IGEub3B0aW9ucy5zbGlkZXNQZXJSb3cgKiBhLm9wdGlvbnMucm93cywgZiA9IE1hdGguY2VpbChnLmxlbmd0aCAvIGgpLCBiID0gMDsgZiA+IGI7IGIrKykgeyB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOyBmb3IgKGMgPSAwOyBjIDwgYS5vcHRpb25zLnJvd3M7IGMrKykgeyB2YXIgaiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOyBmb3IgKGQgPSAwOyBkIDwgYS5vcHRpb25zLnNsaWRlc1BlclJvdzsgZCsrKSB7IHZhciBrID0gYiAqIGggKyAoYyAqIGEub3B0aW9ucy5zbGlkZXNQZXJSb3cgKyBkKTsgZy5nZXQoaykgJiYgai5hcHBlbmRDaGlsZChnLmdldChrKSkgfSBpLmFwcGVuZENoaWxkKGopIH0gZS5hcHBlbmRDaGlsZChpKSB9IGEuJHNsaWRlci5lbXB0eSgpLmFwcGVuZChlKSwgYS4kc2xpZGVyLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jaGlsZHJlbigpLmNzcyh7IHdpZHRoOiAxMDAgLyBhLm9wdGlvbnMuc2xpZGVzUGVyUm93ICsgIiUiLCBkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiB9KSB9IH0sIGIucHJvdG90eXBlLmNoZWNrUmVzcG9uc2l2ZSA9IGZ1bmN0aW9uIChiLCBjKSB7IHZhciBlLCBmLCBnLCBkID0gdGhpcywgaCA9ICExLCBpID0gZC4kc2xpZGVyLndpZHRoKCksIGogPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBhKHdpbmRvdykud2lkdGgoKTsgaWYgKCJ3aW5kb3ciID09PSBkLnJlc3BvbmRUbyA/IGcgPSBqIDogInNsaWRlciIgPT09IGQucmVzcG9uZFRvID8gZyA9IGkgOiAibWluIiA9PT0gZC5yZXNwb25kVG8gJiYgKGcgPSBNYXRoLm1pbihqLCBpKSksIGQub3B0aW9ucy5yZXNwb25zaXZlICYmIGQub3B0aW9ucy5yZXNwb25zaXZlLmxlbmd0aCAmJiBudWxsICE9PSBkLm9wdGlvbnMucmVzcG9uc2l2ZSkgeyBmID0gbnVsbDsgZm9yIChlIGluIGQuYnJlYWtwb2ludHMpIGQuYnJlYWtwb2ludHMuaGFzT3duUHJvcGVydHkoZSkgJiYgKGQub3JpZ2luYWxTZXR0aW5ncy5tb2JpbGVGaXJzdCA9PT0gITEgPyBnIDwgZC5icmVha3BvaW50c1tlXSAmJiAoZiA9IGQuYnJlYWtwb2ludHNbZV0pIDogZyA+IGQuYnJlYWtwb2ludHNbZV0gJiYgKGYgPSBkLmJyZWFrcG9pbnRzW2VdKSk7IG51bGwgIT09IGYgPyBudWxsICE9PSBkLmFjdGl2ZUJyZWFrcG9pbnQgPyAoZiAhPT0gZC5hY3RpdmVCcmVha3BvaW50IHx8IGMpICYmIChkLmFjdGl2ZUJyZWFrcG9pbnQgPSBmLCAidW5zbGljayIgPT09IGQuYnJlYWtwb2ludFNldHRpbmdzW2ZdID8gZC51bnNsaWNrKGYpIDogKGQub3B0aW9ucyA9IGEuZXh0ZW5kKHt9LCBkLm9yaWdpbmFsU2V0dGluZ3MsIGQuYnJlYWtwb2ludFNldHRpbmdzW2ZdKSwgYiA9PT0gITAgJiYgKGQuY3VycmVudFNsaWRlID0gZC5vcHRpb25zLmluaXRpYWxTbGlkZSksIGQucmVmcmVzaChiKSksIGggPSBmKSA6IChkLmFjdGl2ZUJyZWFrcG9pbnQgPSBmLCAidW5zbGljayIgPT09IGQuYnJlYWtwb2ludFNldHRpbmdzW2ZdID8gZC51bnNsaWNrKGYpIDogKGQub3B0aW9ucyA9IGEuZXh0ZW5kKHt9LCBkLm9yaWdpbmFsU2V0dGluZ3MsIGQuYnJlYWtwb2ludFNldHRpbmdzW2ZdKSwgYiA9PT0gITAgJiYgKGQuY3VycmVudFNsaWRlID0gZC5vcHRpb25zLmluaXRpYWxTbGlkZSksIGQucmVmcmVzaChiKSksIGggPSBmKSA6IG51bGwgIT09IGQuYWN0aXZlQnJlYWtwb2ludCAmJiAoZC5hY3RpdmVCcmVha3BvaW50ID0gbnVsbCwgZC5vcHRpb25zID0gZC5vcmlnaW5hbFNldHRpbmdzLCBiID09PSAhMCAmJiAoZC5jdXJyZW50U2xpZGUgPSBkLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSwgZC5yZWZyZXNoKGIpLCBoID0gZiksIGIgfHwgaCA9PT0gITEgfHwgZC4kc2xpZGVyLnRyaWdnZXIoImJyZWFrcG9pbnQiLCBbZCwgaF0pIH0gfSwgYi5wcm90b3R5cGUuY2hhbmdlU2xpZGUgPSBmdW5jdGlvbiAoYiwgYykgeyB2YXIgZiwgZywgaCwgZCA9IHRoaXMsIGUgPSBhKGIuY3VycmVudFRhcmdldCk7IHN3aXRjaCAoZS5pcygiYSIpICYmIGIucHJldmVudERlZmF1bHQoKSwgZS5pcygibGkiKSB8fCAoZSA9IGUuY2xvc2VzdCgibGkiKSksIGggPSBkLnNsaWRlQ291bnQgJSBkLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDAsIGYgPSBoID8gMCA6IChkLnNsaWRlQ291bnQgLSBkLmN1cnJlbnRTbGlkZSkgJSBkLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsIGIuZGF0YS5tZXNzYWdlKSB7IGNhc2UgInByZXZpb3VzIjogZyA9IDAgPT09IGYgPyBkLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBkLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gZiwgZC5zbGlkZUNvdW50ID4gZC5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBkLnNsaWRlSGFuZGxlcihkLmN1cnJlbnRTbGlkZSAtIGcsICExLCBjKTsgYnJlYWs7IGNhc2UgIm5leHQiOiBnID0gMCA9PT0gZiA/IGQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IGYsIGQuc2xpZGVDb3VudCA+IGQub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgZC5zbGlkZUhhbmRsZXIoZC5jdXJyZW50U2xpZGUgKyBnLCAhMSwgYyk7IGJyZWFrOyBjYXNlICJpbmRleCI6IHZhciBpID0gMCA9PT0gYi5kYXRhLmluZGV4ID8gMCA6IGIuZGF0YS5pbmRleCB8fCBlLmluZGV4KCkgKiBkLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7IGQuc2xpZGVIYW5kbGVyKGQuY2hlY2tOYXZpZ2FibGUoaSksICExLCBjKSwgZS5jaGlsZHJlbigpLnRyaWdnZXIoImZvY3VzIik7IGJyZWFrOyBkZWZhdWx0OiByZXR1cm4gfSB9LCBiLnByb3RvdHlwZS5jaGVja05hdmlnYWJsZSA9IGZ1bmN0aW9uIChhKSB7IHZhciBjLCBkLCBiID0gdGhpczsgaWYgKGMgPSBiLmdldE5hdmlnYWJsZUluZGV4ZXMoKSwgZCA9IDAsIGEgPiBjW2MubGVuZ3RoIC0gMV0pIGEgPSBjW2MubGVuZ3RoIC0gMV07IGVsc2UgZm9yICh2YXIgZSBpbiBjKSB7IGlmIChhIDwgY1tlXSkgeyBhID0gZDsgYnJlYWsgfSBkID0gY1tlXSB9IHJldHVybiBhIH0sIGIucHJvdG90eXBlLmNsZWFuVXBFdmVudHMgPSBmdW5jdGlvbiAoKSB7IHZhciBiID0gdGhpczsgYi5vcHRpb25zLmRvdHMgJiYgbnVsbCAhPT0gYi4kZG90cyAmJiBhKCJsaSIsIGIuJGRvdHMpLm9mZigiY2xpY2suc2xpY2siLCBiLmNoYW5nZVNsaWRlKS5vZmYoIm1vdXNlZW50ZXIuc2xpY2siLCBhLnByb3h5KGIuaW50ZXJydXB0LCBiLCAhMCkpLm9mZigibW91c2VsZWF2ZS5zbGljayIsIGEucHJveHkoYi5pbnRlcnJ1cHQsIGIsICExKSksIGIuJHNsaWRlci5vZmYoImZvY3VzLnNsaWNrIGJsdXIuc2xpY2siKSwgYi5vcHRpb25zLmFycm93cyA9PT0gITAgJiYgYi5zbGlkZUNvdW50ID4gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiAoYi4kcHJldkFycm93ICYmIGIuJHByZXZBcnJvdy5vZmYoImNsaWNrLnNsaWNrIiwgYi5jaGFuZ2VTbGlkZSksIGIuJG5leHRBcnJvdyAmJiBiLiRuZXh0QXJyb3cub2ZmKCJjbGljay5zbGljayIsIGIuY2hhbmdlU2xpZGUpKSwgYi4kbGlzdC5vZmYoInRvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrIiwgYi5zd2lwZUhhbmRsZXIpLCBiLiRsaXN0Lm9mZigidG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGljayIsIGIuc3dpcGVIYW5kbGVyKSwgYi4kbGlzdC5vZmYoInRvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2siLCBiLnN3aXBlSGFuZGxlciksIGIuJGxpc3Qub2ZmKCJ0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrIiwgYi5zd2lwZUhhbmRsZXIpLCBiLiRsaXN0Lm9mZigiY2xpY2suc2xpY2siLCBiLmNsaWNrSGFuZGxlciksIGEoZG9jdW1lbnQpLm9mZihiLnZpc2liaWxpdHlDaGFuZ2UsIGIudmlzaWJpbGl0eSksIGIuY2xlYW5VcFNsaWRlRXZlbnRzKCksIGIub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSAhMCAmJiBiLiRsaXN0Lm9mZigia2V5ZG93bi5zbGljayIsIGIua2V5SGFuZGxlciksIGIub3B0aW9ucy5mb2N1c09uU2VsZWN0ID09PSAhMCAmJiBhKGIuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub2ZmKCJjbGljay5zbGljayIsIGIuc2VsZWN0SGFuZGxlciksIGEod2luZG93KS5vZmYoIm9yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLSIgKyBiLmluc3RhbmNlVWlkLCBiLm9yaWVudGF0aW9uQ2hhbmdlKSwgYSh3aW5kb3cpLm9mZigicmVzaXplLnNsaWNrLnNsaWNrLSIgKyBiLmluc3RhbmNlVWlkLCBiLnJlc2l6ZSksIGEoIltkcmFnZ2FibGUhPXRydWVdIiwgYi4kc2xpZGVUcmFjaykub2ZmKCJkcmFnc3RhcnQiLCBiLnByZXZlbnREZWZhdWx0KSwgYSh3aW5kb3cpLm9mZigibG9hZC5zbGljay5zbGljay0iICsgYi5pbnN0YW5jZVVpZCwgYi5zZXRQb3NpdGlvbiksIGEoZG9jdW1lbnQpLm9mZigicmVhZHkuc2xpY2suc2xpY2stIiArIGIuaW5zdGFuY2VVaWQsIGIuc2V0UG9zaXRpb24pIH0sIGIucHJvdG90eXBlLmNsZWFuVXBTbGlkZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBiLiRsaXN0Lm9mZigibW91c2VlbnRlci5zbGljayIsIGEucHJveHkoYi5pbnRlcnJ1cHQsIGIsICEwKSksIGIuJGxpc3Qub2ZmKCJtb3VzZWxlYXZlLnNsaWNrIiwgYS5wcm94eShiLmludGVycnVwdCwgYiwgITEpKSB9LCBiLnByb3RvdHlwZS5jbGVhblVwUm93cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGIsIGEgPSB0aGlzOyBhLm9wdGlvbnMucm93cyA+IDEgJiYgKGIgPSBhLiRzbGlkZXMuY2hpbGRyZW4oKS5jaGlsZHJlbigpLCBiLnJlbW92ZUF0dHIoInN0eWxlIiksIGEuJHNsaWRlci5lbXB0eSgpLmFwcGVuZChiKSkgfSwgYi5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGEpIHsgdmFyIGIgPSB0aGlzOyBiLnNob3VsZENsaWNrID09PSAhMSAmJiAoYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgYS5zdG9wUHJvcGFnYXRpb24oKSwgYS5wcmV2ZW50RGVmYXVsdCgpKSB9LCBiLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGIpIHsgdmFyIGMgPSB0aGlzOyBjLmF1dG9QbGF5Q2xlYXIoKSwgYy50b3VjaE9iamVjdCA9IHt9LCBjLmNsZWFuVXBFdmVudHMoKSwgYSgiLnNsaWNrLWNsb25lZCIsIGMuJHNsaWRlcikuZGV0YWNoKCksIGMuJGRvdHMgJiYgYy4kZG90cy5yZW1vdmUoKSwgYy4kcHJldkFycm93ICYmIGMuJHByZXZBcnJvdy5sZW5ndGggJiYgKGMuJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJpbmRleCIpLmNzcygiZGlzcGxheSIsICIiKSwgYy5odG1sRXhwci50ZXN0KGMub3B0aW9ucy5wcmV2QXJyb3cpICYmIGMuJHByZXZBcnJvdy5yZW1vdmUoKSksIGMuJG5leHRBcnJvdyAmJiBjLiRuZXh0QXJyb3cubGVuZ3RoICYmIChjLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIHNsaWNrLWFycm93IHNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgdGFiaW5kZXgiKS5jc3MoImRpc3BsYXkiLCAiIiksIGMuaHRtbEV4cHIudGVzdChjLm9wdGlvbnMubmV4dEFycm93KSAmJiBjLiRuZXh0QXJyb3cucmVtb3ZlKCkpLCBjLiRzbGlkZXMgJiYgKGMuJHNsaWRlcy5yZW1vdmVDbGFzcygic2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLWNlbnRlciBzbGljay12aXNpYmxlIHNsaWNrLWN1cnJlbnQiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImRhdGEtc2xpY2staW5kZXgiKS5lYWNoKGZ1bmN0aW9uICgpIHsgYSh0aGlzKS5hdHRyKCJzdHlsZSIsIGEodGhpcykuZGF0YSgib3JpZ2luYWxTdHlsaW5nIikpIH0pLCBjLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksIGMuJHNsaWRlVHJhY2suZGV0YWNoKCksIGMuJGxpc3QuZGV0YWNoKCksIGMuJHNsaWRlci5hcHBlbmQoYy4kc2xpZGVzKSksIGMuY2xlYW5VcFJvd3MoKSwgYy4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1zbGlkZXIiKSwgYy4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1pbml0aWFsaXplZCIpLCBjLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWRvdHRlZCIpLCBjLnVuc2xpY2tlZCA9ICEwLCBiIHx8IGMuJHNsaWRlci50cmlnZ2VyKCJkZXN0cm95IiwgW2NdKSB9LCBiLnByb3RvdHlwZS5kaXNhYmxlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChhKSB7IHZhciBiID0gdGhpcywgYyA9IHt9OyBjW2IudHJhbnNpdGlvblR5cGVdID0gIiIsIGIub3B0aW9ucy5mYWRlID09PSAhMSA/IGIuJHNsaWRlVHJhY2suY3NzKGMpIDogYi4kc2xpZGVzLmVxKGEpLmNzcyhjKSB9LCBiLnByb3RvdHlwZS5mYWRlU2xpZGUgPSBmdW5jdGlvbiAoYSwgYikgeyB2YXIgYyA9IHRoaXM7IGMuY3NzVHJhbnNpdGlvbnMgPT09ICExID8gKGMuJHNsaWRlcy5lcShhKS5jc3MoeyB6SW5kZXg6IGMub3B0aW9ucy56SW5kZXggfSksIGMuJHNsaWRlcy5lcShhKS5hbmltYXRlKHsgb3BhY2l0eTogMSB9LCBjLm9wdGlvbnMuc3BlZWQsIGMub3B0aW9ucy5lYXNpbmcsIGIpKSA6IChjLmFwcGx5VHJhbnNpdGlvbihhKSwgYy4kc2xpZGVzLmVxKGEpLmNzcyh7IG9wYWNpdHk6IDEsIHpJbmRleDogYy5vcHRpb25zLnpJbmRleCB9KSwgYiAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgYy5kaXNhYmxlVHJhbnNpdGlvbihhKSwgYi5jYWxsKCkgfSwgYy5vcHRpb25zLnNwZWVkKSkgfSwgYi5wcm90b3R5cGUuZmFkZVNsaWRlT3V0ID0gZnVuY3Rpb24gKGEpIHsgdmFyIGIgPSB0aGlzOyBiLmNzc1RyYW5zaXRpb25zID09PSAhMSA/IGIuJHNsaWRlcy5lcShhKS5hbmltYXRlKHsgb3BhY2l0eTogMCwgekluZGV4OiBiLm9wdGlvbnMuekluZGV4IC0gMiB9LCBiLm9wdGlvbnMuc3BlZWQsIGIub3B0aW9ucy5lYXNpbmcpIDogKGIuYXBwbHlUcmFuc2l0aW9uKGEpLCBiLiRzbGlkZXMuZXEoYSkuY3NzKHsgb3BhY2l0eTogMCwgekluZGV4OiBiLm9wdGlvbnMuekluZGV4IC0gMiB9KSkgfSwgYi5wcm90b3R5cGUuZmlsdGVyU2xpZGVzID0gYi5wcm90b3R5cGUuc2xpY2tGaWx0ZXIgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYiA9IHRoaXM7IG51bGwgIT09IGEgJiYgKGIuJHNsaWRlc0NhY2hlID0gYi4kc2xpZGVzLCBiLnVubG9hZCgpLCBiLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksIGIuJHNsaWRlc0NhY2hlLmZpbHRlcihhKS5hcHBlbmRUbyhiLiRzbGlkZVRyYWNrKSwgYi5yZWluaXQoKSkgfSwgYi5wcm90b3R5cGUuZm9jdXNIYW5kbGVyID0gZnVuY3Rpb24gKCkgeyB2YXIgYiA9IHRoaXM7IGIuJHNsaWRlci5vZmYoImZvY3VzLnNsaWNrIGJsdXIuc2xpY2siKS5vbigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIsICIqOm5vdCguc2xpY2stYXJyb3cpIiwgZnVuY3Rpb24gKGMpIHsgYy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsgdmFyIGQgPSBhKHRoaXMpOyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgYi5vcHRpb25zLnBhdXNlT25Gb2N1cyAmJiAoYi5mb2N1c3NlZCA9IGQuaXMoIjpmb2N1cyIpLCBiLmF1dG9QbGF5KCkpIH0sIDApIH0pIH0sIGIucHJvdG90eXBlLmdldEN1cnJlbnQgPSBiLnByb3RvdHlwZS5zbGlja0N1cnJlbnRTbGlkZSA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyByZXR1cm4gYS5jdXJyZW50U2xpZGUgfSwgYi5wcm90b3R5cGUuZ2V0RG90Q291bnQgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpcywgYiA9IDAsIGMgPSAwLCBkID0gMDsgaWYgKGEub3B0aW9ucy5pbmZpbml0ZSA9PT0gITApIGZvciAoOyBiIDwgYS5zbGlkZUNvdW50OykrK2QsIGIgPSBjICsgYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLCBjICs9IGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA8PSBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogYS5vcHRpb25zLnNsaWRlc1RvU2hvdzsgZWxzZSBpZiAoYS5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwKSBkID0gYS5zbGlkZUNvdW50OyBlbHNlIGlmIChhLm9wdGlvbnMuYXNOYXZGb3IpIGZvciAoOyBiIDwgYS5zbGlkZUNvdW50OykrK2QsIGIgPSBjICsgYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLCBjICs9IGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA8PSBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogYS5vcHRpb25zLnNsaWRlc1RvU2hvdzsgZWxzZSBkID0gMSArIE1hdGguY2VpbCgoYS5zbGlkZUNvdW50IC0gYS5vcHRpb25zLnNsaWRlc1RvU2hvdykgLyBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpOyByZXR1cm4gZCAtIDEgfSwgYi5wcm90b3R5cGUuZ2V0TGVmdCA9IGZ1bmN0aW9uIChhKSB7IHZhciBjLCBkLCBmLCBiID0gdGhpcywgZSA9IDA7IHJldHVybiBiLnNsaWRlT2Zmc2V0ID0gMCwgZCA9IGIuJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSwgYi5vcHRpb25zLmluZmluaXRlID09PSAhMCA/IChiLnNsaWRlQ291bnQgPiBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChiLnNsaWRlT2Zmc2V0ID0gYi5zbGlkZVdpZHRoICogYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAqIC0xLCBlID0gZCAqIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgKiAtMSksIGIuc2xpZGVDb3VudCAlIGIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAhPT0gMCAmJiBhICsgYi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsID4gYi5zbGlkZUNvdW50ICYmIGIuc2xpZGVDb3VudCA+IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgKGEgPiBiLnNsaWRlQ291bnQgPyAoYi5zbGlkZU9mZnNldCA9IChiLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gKGEgLSBiLnNsaWRlQ291bnQpKSAqIGIuc2xpZGVXaWR0aCAqIC0xLCBlID0gKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLSAoYSAtIGIuc2xpZGVDb3VudCkpICogZCAqIC0xKSA6IChiLnNsaWRlT2Zmc2V0ID0gYi5zbGlkZUNvdW50ICUgYi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICogYi5zbGlkZVdpZHRoICogLTEsIGUgPSBiLnNsaWRlQ291bnQgJSBiLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgKiBkICogLTEpKSkgOiBhICsgYi5vcHRpb25zLnNsaWRlc1RvU2hvdyA+IGIuc2xpZGVDb3VudCAmJiAoYi5zbGlkZU9mZnNldCA9IChhICsgYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIGIuc2xpZGVDb3VudCkgKiBiLnNsaWRlV2lkdGgsIGUgPSAoYSArIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLSBiLnNsaWRlQ291bnQpICogZCksIGIuc2xpZGVDb3VudCA8PSBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChiLnNsaWRlT2Zmc2V0ID0gMCwgZSA9IDApLCBiLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgJiYgYi5vcHRpb25zLmluZmluaXRlID09PSAhMCA/IGIuc2xpZGVPZmZzZXQgKz0gYi5zbGlkZVdpZHRoICogTWF0aC5mbG9vcihiLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMikgLSBiLnNsaWRlV2lkdGggOiBiLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgJiYgKGIuc2xpZGVPZmZzZXQgPSAwLCBiLnNsaWRlT2Zmc2V0ICs9IGIuc2xpZGVXaWR0aCAqIE1hdGguZmxvb3IoYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpKSwgYyA9IGIub3B0aW9ucy52ZXJ0aWNhbCA9PT0gITEgPyBhICogYi5zbGlkZVdpZHRoICogLTEgKyBiLnNsaWRlT2Zmc2V0IDogYSAqIGQgKiAtMSArIGUsIGIub3B0aW9ucy52YXJpYWJsZVdpZHRoID09PSAhMCAmJiAoZiA9IGIuc2xpZGVDb3VudCA8PSBiLm9wdGlvbnMuc2xpZGVzVG9TaG93IHx8IGIub3B0aW9ucy5pbmZpbml0ZSA9PT0gITEgPyBiLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5lcShhKSA6IGIuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKGEgKyBiLm9wdGlvbnMuc2xpZGVzVG9TaG93KSwgYyA9IGIub3B0aW9ucy5ydGwgPT09ICEwID8gZlswXSA/IC0xICogKGIuJHNsaWRlVHJhY2sud2lkdGgoKSAtIGZbMF0ub2Zmc2V0TGVmdCAtIGYud2lkdGgoKSkgOiAwIDogZlswXSA/IC0xICogZlswXS5vZmZzZXRMZWZ0IDogMCwgYi5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwICYmIChmID0gYi5zbGlkZUNvdW50IDw9IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgfHwgYi5vcHRpb25zLmluZmluaXRlID09PSAhMSA/IGIuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKGEpIDogYi4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEoYSArIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyAxKSwgYyA9IGIub3B0aW9ucy5ydGwgPT09ICEwID8gZlswXSA/IC0xICogKGIuJHNsaWRlVHJhY2sud2lkdGgoKSAtIGZbMF0ub2Zmc2V0TGVmdCAtIGYud2lkdGgoKSkgOiAwIDogZlswXSA/IC0xICogZlswXS5vZmZzZXRMZWZ0IDogMCwgYyArPSAoYi4kbGlzdC53aWR0aCgpIC0gZi5vdXRlcldpZHRoKCkpIC8gMikpLCBjIH0sIGIucHJvdG90eXBlLmdldE9wdGlvbiA9IGIucHJvdG90eXBlLnNsaWNrR2V0T3B0aW9uID0gZnVuY3Rpb24gKGEpIHsgdmFyIGIgPSB0aGlzOyByZXR1cm4gYi5vcHRpb25zW2FdIH0sIGIucHJvdG90eXBlLmdldE5hdmlnYWJsZUluZGV4ZXMgPSBmdW5jdGlvbiAoKSB7IHZhciBlLCBhID0gdGhpcywgYiA9IDAsIGMgPSAwLCBkID0gW107IGZvciAoYS5vcHRpb25zLmluZmluaXRlID09PSAhMSA/IGUgPSBhLnNsaWRlQ291bnQgOiAoYiA9IC0xICogYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLCBjID0gLTEgKiBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsIGUgPSAyICogYS5zbGlkZUNvdW50KSA7IGUgPiBiOykgZC5wdXNoKGIpLCBiID0gYyArIGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCwgYyArPSBhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgPD0gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IGEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IGEub3B0aW9ucy5zbGlkZXNUb1Nob3c7IHJldHVybiBkIH0sIGIucHJvdG90eXBlLmdldFNsaWNrID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyB9LCBiLnByb3RvdHlwZS5nZXRTbGlkZUNvdW50ID0gZnVuY3Rpb24gKCkgeyB2YXIgYywgZCwgZSwgYiA9IHRoaXM7IHJldHVybiBlID0gYi5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwID8gYi5zbGlkZVdpZHRoICogTWF0aC5mbG9vcihiLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMikgOiAwLCBiLm9wdGlvbnMuc3dpcGVUb1NsaWRlID09PSAhMCA/IChiLiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1zbGlkZSIpLmVhY2goZnVuY3Rpb24gKGMsIGYpIHsgcmV0dXJuIGYub2Zmc2V0TGVmdCAtIGUgKyBhKGYpLm91dGVyV2lkdGgoKSAvIDIgPiAtMSAqIGIuc3dpcGVMZWZ0ID8gKGQgPSBmLCAhMSkgOiB2b2lkIDAgfSksIGMgPSBNYXRoLmFicyhhKGQpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiKSAtIGIuY3VycmVudFNsaWRlKSB8fCAxKSA6IGIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCB9LCBiLnByb3RvdHlwZS5nb1RvID0gYi5wcm90b3R5cGUuc2xpY2tHb1RvID0gZnVuY3Rpb24gKGEsIGIpIHsgdmFyIGMgPSB0aGlzOyBjLmNoYW5nZVNsaWRlKHsgZGF0YTogeyBtZXNzYWdlOiAiaW5kZXgiLCBpbmRleDogcGFyc2VJbnQoYSkgfSB9LCBiKSB9LCBiLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKGIpIHsgdmFyIGMgPSB0aGlzOyBhKGMuJHNsaWRlcikuaGFzQ2xhc3MoInNsaWNrLWluaXRpYWxpemVkIikgfHwgKGEoYy4kc2xpZGVyKS5hZGRDbGFzcygic2xpY2staW5pdGlhbGl6ZWQiKSwgYy5idWlsZFJvd3MoKSwgYy5idWlsZE91dCgpLCBjLnNldFByb3BzKCksIGMuc3RhcnRMb2FkKCksIGMubG9hZFNsaWRlcigpLCBjLmluaXRpYWxpemVFdmVudHMoKSwgYy51cGRhdGVBcnJvd3MoKSwgYy51cGRhdGVEb3RzKCksIGMuY2hlY2tSZXNwb25zaXZlKCEwKSwgYy5mb2N1c0hhbmRsZXIoKSksIGIgJiYgYy4kc2xpZGVyLnRyaWdnZXIoImluaXQiLCBbY10pLCBjLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gITAgJiYgYy5pbml0QURBKCksIGMub3B0aW9ucy5hdXRvcGxheSAmJiAoYy5wYXVzZWQgPSAhMSwgYy5hdXRvUGxheSgpKSB9LCBiLnByb3RvdHlwZS5pbml0QURBID0gZnVuY3Rpb24gKCkgeyB2YXIgYiA9IHRoaXM7IGIuJHNsaWRlcy5hZGQoYi4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stY2xvbmVkIikpLmF0dHIoeyAiYXJpYS1oaWRkZW4iOiAidHJ1ZSIsIHRhYmluZGV4OiAiLTEiIH0pLmZpbmQoImEsIGlucHV0LCBidXR0b24sIHNlbGVjdCIpLmF0dHIoeyB0YWJpbmRleDogIi0xIiB9KSwgYi4kc2xpZGVUcmFjay5hdHRyKCJyb2xlIiwgImxpc3Rib3giKSwgYi4kc2xpZGVzLm5vdChiLiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKSkuZWFjaChmdW5jdGlvbiAoYykgeyBhKHRoaXMpLmF0dHIoeyByb2xlOiAib3B0aW9uIiwgImFyaWEtZGVzY3JpYmVkYnkiOiAic2xpY2stc2xpZGUiICsgYi5pbnN0YW5jZVVpZCArIGMgfSkgfSksIG51bGwgIT09IGIuJGRvdHMgJiYgYi4kZG90cy5hdHRyKCJyb2xlIiwgInRhYmxpc3QiKS5maW5kKCJsaSIpLmVhY2goZnVuY3Rpb24gKGMpIHsgYSh0aGlzKS5hdHRyKHsgcm9sZTogInByZXNlbnRhdGlvbiIsICJhcmlhLXNlbGVjdGVkIjogImZhbHNlIiwgImFyaWEtY29udHJvbHMiOiAibmF2aWdhdGlvbiIgKyBiLmluc3RhbmNlVWlkICsgYywgaWQ6ICJzbGljay1zbGlkZSIgKyBiLmluc3RhbmNlVWlkICsgYyB9KSB9KS5maXJzdCgpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCAidHJ1ZSIpLmVuZCgpLmZpbmQoImJ1dHRvbiIpLmF0dHIoInJvbGUiLCAiYnV0dG9uIikuZW5kKCkuY2xvc2VzdCgiZGl2IikuYXR0cigicm9sZSIsICJ0b29sYmFyIiksIGIuYWN0aXZhdGVBREEoKSB9LCBiLnByb3RvdHlwZS5pbml0QXJyb3dFdmVudHMgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5vcHRpb25zLmFycm93cyA9PT0gITAgJiYgYS5zbGlkZUNvdW50ID4gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiAoYS4kcHJldkFycm93Lm9mZigiY2xpY2suc2xpY2siKS5vbigiY2xpY2suc2xpY2siLCB7IG1lc3NhZ2U6ICJwcmV2aW91cyIgfSwgYS5jaGFuZ2VTbGlkZSksIGEuJG5leHRBcnJvdy5vZmYoImNsaWNrLnNsaWNrIikub24oImNsaWNrLnNsaWNrIiwgeyBtZXNzYWdlOiAibmV4dCIgfSwgYS5jaGFuZ2VTbGlkZSkpIH0sIGIucHJvdG90eXBlLmluaXREb3RFdmVudHMgPSBmdW5jdGlvbiAoKSB7IHZhciBiID0gdGhpczsgYi5vcHRpb25zLmRvdHMgPT09ICEwICYmIGIuc2xpZGVDb3VudCA+IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgYSgibGkiLCBiLiRkb3RzKS5vbigiY2xpY2suc2xpY2siLCB7IG1lc3NhZ2U6ICJpbmRleCIgfSwgYi5jaGFuZ2VTbGlkZSksIGIub3B0aW9ucy5kb3RzID09PSAhMCAmJiBiLm9wdGlvbnMucGF1c2VPbkRvdHNIb3ZlciA9PT0gITAgJiYgYSgibGkiLCBiLiRkb3RzKS5vbigibW91c2VlbnRlci5zbGljayIsIGEucHJveHkoYi5pbnRlcnJ1cHQsIGIsICEwKSkub24oIm1vdXNlbGVhdmUuc2xpY2siLCBhLnByb3h5KGIuaW50ZXJydXB0LCBiLCAhMSkpIH0sIGIucHJvdG90eXBlLmluaXRTbGlkZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBiLm9wdGlvbnMucGF1c2VPbkhvdmVyICYmIChiLiRsaXN0Lm9uKCJtb3VzZWVudGVyLnNsaWNrIiwgYS5wcm94eShiLmludGVycnVwdCwgYiwgITApKSwgYi4kbGlzdC5vbigibW91c2VsZWF2ZS5zbGljayIsIGEucHJveHkoYi5pbnRlcnJ1cHQsIGIsICExKSkpIH0sIGIucHJvdG90eXBlLmluaXRpYWxpemVFdmVudHMgPSBmdW5jdGlvbiAoKSB7IHZhciBiID0gdGhpczsgYi5pbml0QXJyb3dFdmVudHMoKSwgYi5pbml0RG90RXZlbnRzKCksIGIuaW5pdFNsaWRlRXZlbnRzKCksIGIuJGxpc3Qub24oInRvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrIiwgeyBhY3Rpb246ICJzdGFydCIgfSwgYi5zd2lwZUhhbmRsZXIpLCBiLiRsaXN0Lm9uKCJ0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrIiwgeyBhY3Rpb246ICJtb3ZlIiB9LCBiLnN3aXBlSGFuZGxlciksIGIuJGxpc3Qub24oInRvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2siLCB7IGFjdGlvbjogImVuZCIgfSwgYi5zd2lwZUhhbmRsZXIpLCBiLiRsaXN0Lm9uKCJ0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrIiwgeyBhY3Rpb246ICJlbmQiIH0sIGIuc3dpcGVIYW5kbGVyKSwgYi4kbGlzdC5vbigiY2xpY2suc2xpY2siLCBiLmNsaWNrSGFuZGxlciksIGEoZG9jdW1lbnQpLm9uKGIudmlzaWJpbGl0eUNoYW5nZSwgYS5wcm94eShiLnZpc2liaWxpdHksIGIpKSwgYi5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09ICEwICYmIGIuJGxpc3Qub24oImtleWRvd24uc2xpY2siLCBiLmtleUhhbmRsZXIpLCBiLm9wdGlvbnMuZm9jdXNPblNlbGVjdCA9PT0gITAgJiYgYShiLiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCJjbGljay5zbGljayIsIGIuc2VsZWN0SGFuZGxlciksIGEod2luZG93KS5vbigib3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stIiArIGIuaW5zdGFuY2VVaWQsIGEucHJveHkoYi5vcmllbnRhdGlvbkNoYW5nZSwgYikpLCBhKHdpbmRvdykub24oInJlc2l6ZS5zbGljay5zbGljay0iICsgYi5pbnN0YW5jZVVpZCwgYS5wcm94eShiLnJlc2l6ZSwgYikpLCBhKCJbZHJhZ2dhYmxlIT10cnVlXSIsIGIuJHNsaWRlVHJhY2spLm9uKCJkcmFnc3RhcnQiLCBiLnByZXZlbnREZWZhdWx0KSwgYSh3aW5kb3cpLm9uKCJsb2FkLnNsaWNrLnNsaWNrLSIgKyBiLmluc3RhbmNlVWlkLCBiLnNldFBvc2l0aW9uKSwgYShkb2N1bWVudCkub24oInJlYWR5LnNsaWNrLnNsaWNrLSIgKyBiLmluc3RhbmNlVWlkLCBiLnNldFBvc2l0aW9uKSB9LCBiLnByb3RvdHlwZS5pbml0VUkgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5vcHRpb25zLmFycm93cyA9PT0gITAgJiYgYS5zbGlkZUNvdW50ID4gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiAoYS4kcHJldkFycm93LnNob3coKSwgYS4kbmV4dEFycm93LnNob3coKSksIGEub3B0aW9ucy5kb3RzID09PSAhMCAmJiBhLnNsaWRlQ291bnQgPiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIGEuJGRvdHMuc2hvdygpIH0sIGIucHJvdG90eXBlLmtleUhhbmRsZXIgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYiA9IHRoaXM7IGEudGFyZ2V0LnRhZ05hbWUubWF0Y2goIlRFWFRBUkVBfElOUFVUfFNFTEVDVCIpIHx8ICgzNyA9PT0gYS5rZXlDb2RlICYmIGIub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSAhMCA/IGIuY2hhbmdlU2xpZGUoeyBkYXRhOiB7IG1lc3NhZ2U6IGIub3B0aW9ucy5ydGwgPT09ICEwID8gIm5leHQiIDogInByZXZpb3VzIiB9IH0pIDogMzkgPT09IGEua2V5Q29kZSAmJiBiLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gITAgJiYgYi5jaGFuZ2VTbGlkZSh7IGRhdGE6IHsgbWVzc2FnZTogYi5vcHRpb25zLnJ0bCA9PT0gITAgPyAicHJldmlvdXMiIDogIm5leHQiIH0gfSkpIH0sIGIucHJvdG90eXBlLmxhenlMb2FkID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBnKGMpIHsgYSgiaW1nW2RhdGEtbGF6eV0iLCBjKS5lYWNoKGZ1bmN0aW9uICgpIHsgdmFyIGMgPSBhKHRoaXMpLCBkID0gYSh0aGlzKS5hdHRyKCJkYXRhLWxhenkiKSwgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOyBlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgYy5hbmltYXRlKHsgb3BhY2l0eTogMCB9LCAxMDAsIGZ1bmN0aW9uICgpIHsgYy5hdHRyKCJzcmMiLCBkKS5hbmltYXRlKHsgb3BhY2l0eTogMSB9LCAyMDAsIGZ1bmN0aW9uICgpIHsgYy5yZW1vdmVBdHRyKCJkYXRhLWxhenkiKS5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpIH0pLCBiLiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRlZCIsIFtiLCBjLCBkXSkgfSkgfSwgZS5vbmVycm9yID0gZnVuY3Rpb24gKCkgeyBjLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIikuYWRkQ2xhc3MoInNsaWNrLWxhenlsb2FkLWVycm9yIiksIGIuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZEVycm9yIiwgW2IsIGMsIGRdKSB9LCBlLnNyYyA9IGQgfSkgfSB2YXIgYywgZCwgZSwgZiwgYiA9IHRoaXM7IGIub3B0aW9ucy5jZW50ZXJNb2RlID09PSAhMCA/IGIub3B0aW9ucy5pbmZpbml0ZSA9PT0gITAgPyAoZSA9IGIuY3VycmVudFNsaWRlICsgKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyICsgMSksIGYgPSBlICsgYi5vcHRpb25zLnNsaWRlc1RvU2hvdyArIDIpIDogKGUgPSBNYXRoLm1heCgwLCBiLmN1cnJlbnRTbGlkZSAtIChiLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMiArIDEpKSwgZiA9IDIgKyAoYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIgKyAxKSArIGIuY3VycmVudFNsaWRlKSA6IChlID0gYi5vcHRpb25zLmluZmluaXRlID8gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyArIGIuY3VycmVudFNsaWRlIDogYi5jdXJyZW50U2xpZGUsIGYgPSBNYXRoLmNlaWwoZSArIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpLCBiLm9wdGlvbnMuZmFkZSA9PT0gITAgJiYgKGUgPiAwICYmIGUtLSwgZiA8PSBiLnNsaWRlQ291bnQgJiYgZisrKSksIGMgPSBiLiRzbGlkZXIuZmluZCgiLnNsaWNrLXNsaWRlIikuc2xpY2UoZSwgZiksIGcoYyksIGIuc2xpZGVDb3VudCA8PSBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gKGQgPSBiLiRzbGlkZXIuZmluZCgiLnNsaWNrLXNsaWRlIiksIGcoZCkpIDogYi5jdXJyZW50U2xpZGUgPj0gYi5zbGlkZUNvdW50IC0gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IChkID0gYi4kc2xpZGVyLmZpbmQoIi5zbGljay1jbG9uZWQiKS5zbGljZSgwLCBiLm9wdGlvbnMuc2xpZGVzVG9TaG93KSwgZyhkKSkgOiAwID09PSBiLmN1cnJlbnRTbGlkZSAmJiAoZCA9IGIuJHNsaWRlci5maW5kKCIuc2xpY2stY2xvbmVkIikuc2xpY2UoLTEgKiBiLm9wdGlvbnMuc2xpZGVzVG9TaG93KSwgZyhkKSkgfSwgYi5wcm90b3R5cGUubG9hZFNsaWRlciA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLnNldFBvc2l0aW9uKCksIGEuJHNsaWRlVHJhY2suY3NzKHsgb3BhY2l0eTogMSB9KSwgYS4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIiksIGEuaW5pdFVJKCksICJwcm9ncmVzc2l2ZSIgPT09IGEub3B0aW9ucy5sYXp5TG9hZCAmJiBhLnByb2dyZXNzaXZlTGF6eUxvYWQoKSB9LCBiLnByb3RvdHlwZS5uZXh0ID0gYi5wcm90b3R5cGUuc2xpY2tOZXh0ID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEuY2hhbmdlU2xpZGUoeyBkYXRhOiB7IG1lc3NhZ2U6ICJuZXh0IiB9IH0pIH0sIGIucHJvdG90eXBlLm9yaWVudGF0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEuY2hlY2tSZXNwb25zaXZlKCksIGEuc2V0UG9zaXRpb24oKSB9LCBiLnByb3RvdHlwZS5wYXVzZSA9IGIucHJvdG90eXBlLnNsaWNrUGF1c2UgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5hdXRvUGxheUNsZWFyKCksIGEucGF1c2VkID0gITAgfSwgYi5wcm90b3R5cGUucGxheSA9IGIucHJvdG90eXBlLnNsaWNrUGxheSA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLmF1dG9QbGF5KCksIGEub3B0aW9ucy5hdXRvcGxheSA9ICEwLCBhLnBhdXNlZCA9ICExLCBhLmZvY3Vzc2VkID0gITEsIGEuaW50ZXJydXB0ZWQgPSAhMSB9LCBiLnByb3RvdHlwZS5wb3N0U2xpZGUgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYiA9IHRoaXM7IGIudW5zbGlja2VkIHx8IChiLiRzbGlkZXIudHJpZ2dlcigiYWZ0ZXJDaGFuZ2UiLCBbYiwgYV0pLCBiLmFuaW1hdGluZyA9ICExLCBiLnNldFBvc2l0aW9uKCksIGIuc3dpcGVMZWZ0ID0gbnVsbCwgYi5vcHRpb25zLmF1dG9wbGF5ICYmIGIuYXV0b1BsYXkoKSwgYi5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09ICEwICYmIGIuaW5pdEFEQSgpKSB9LCBiLnByb3RvdHlwZS5wcmV2ID0gYi5wcm90b3R5cGUuc2xpY2tQcmV2ID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEuY2hhbmdlU2xpZGUoeyBkYXRhOiB7IG1lc3NhZ2U6ICJwcmV2aW91cyIgfSB9KSB9LCBiLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uIChhKSB7IGEucHJldmVudERlZmF1bHQoKSB9LCBiLnByb3RvdHlwZS5wcm9ncmVzc2l2ZUxhenlMb2FkID0gZnVuY3Rpb24gKGIpIHsgYiA9IGIgfHwgMTsgdmFyIGUsIGYsIGcsIGMgPSB0aGlzLCBkID0gYSgiaW1nW2RhdGEtbGF6eV0iLCBjLiRzbGlkZXIpOyBkLmxlbmd0aCA/IChlID0gZC5maXJzdCgpLCBmID0gZS5hdHRyKCJkYXRhLWxhenkiKSwgZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLCBnLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgZS5hdHRyKCJzcmMiLCBmKS5yZW1vdmVBdHRyKCJkYXRhLWxhenkiKS5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpLCBjLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgPT09ICEwICYmIGMuc2V0UG9zaXRpb24oKSwgYy4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkZWQiLCBbYywgZSwgZl0pLCBjLnByb2dyZXNzaXZlTGF6eUxvYWQoKSB9LCBnLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IDMgPiBiID8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGMucHJvZ3Jlc3NpdmVMYXp5TG9hZChiICsgMSkgfSwgNTAwKSA6IChlLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIikuYWRkQ2xhc3MoInNsaWNrLWxhenlsb2FkLWVycm9yIiksIGMuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZEVycm9yIiwgW2MsIGUsIGZdKSwgYy5wcm9ncmVzc2l2ZUxhenlMb2FkKCkpIH0sIGcuc3JjID0gZikgOiBjLiRzbGlkZXIudHJpZ2dlcigiYWxsSW1hZ2VzTG9hZGVkIiwgW2NdKSB9LCBiLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKGIpIHsgdmFyIGQsIGUsIGMgPSB0aGlzOyBlID0gYy5zbGlkZUNvdW50IC0gYy5vcHRpb25zLnNsaWRlc1RvU2hvdywgIWMub3B0aW9ucy5pbmZpbml0ZSAmJiBjLmN1cnJlbnRTbGlkZSA+IGUgJiYgKGMuY3VycmVudFNsaWRlID0gZSksIGMuc2xpZGVDb3VudCA8PSBjLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIChjLmN1cnJlbnRTbGlkZSA9IDApLCBkID0gYy5jdXJyZW50U2xpZGUsIGMuZGVzdHJveSghMCksIGEuZXh0ZW5kKGMsIGMuaW5pdGlhbHMsIHsgY3VycmVudFNsaWRlOiBkIH0pLCBjLmluaXQoKSwgYiB8fCBjLmNoYW5nZVNsaWRlKHsgZGF0YTogeyBtZXNzYWdlOiAiaW5kZXgiLCBpbmRleDogZCB9IH0sICExKSB9LCBiLnByb3RvdHlwZS5yZWdpc3RlckJyZWFrcG9pbnRzID0gZnVuY3Rpb24gKCkgeyB2YXIgYywgZCwgZSwgYiA9IHRoaXMsIGYgPSBiLm9wdGlvbnMucmVzcG9uc2l2ZSB8fCBudWxsOyBpZiAoImFycmF5IiA9PT0gYS50eXBlKGYpICYmIGYubGVuZ3RoKSB7IGIucmVzcG9uZFRvID0gYi5vcHRpb25zLnJlc3BvbmRUbyB8fCAid2luZG93IjsgZm9yIChjIGluIGYpIGlmIChlID0gYi5icmVha3BvaW50cy5sZW5ndGggLSAxLCBkID0gZltjXS5icmVha3BvaW50LCBmLmhhc093blByb3BlcnR5KGMpKSB7IGZvciAoOyBlID49IDA7KSBiLmJyZWFrcG9pbnRzW2VdICYmIGIuYnJlYWtwb2ludHNbZV0gPT09IGQgJiYgYi5icmVha3BvaW50cy5zcGxpY2UoZSwgMSksIGUtLTsgYi5icmVha3BvaW50cy5wdXNoKGQpLCBiLmJyZWFrcG9pbnRTZXR0aW5nc1tkXSA9IGZbY10uc2V0dGluZ3MgfSBiLmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGMpIHsgcmV0dXJuIGIub3B0aW9ucy5tb2JpbGVGaXJzdCA/IGEgLSBjIDogYyAtIGEgfSkgfSB9LCBiLnByb3RvdHlwZS5yZWluaXQgPSBmdW5jdGlvbiAoKSB7IHZhciBiID0gdGhpczsgYi4kc2xpZGVzID0gYi4kc2xpZGVUcmFjay5jaGlsZHJlbihiLm9wdGlvbnMuc2xpZGUpLmFkZENsYXNzKCJzbGljay1zbGlkZSIpLCBiLnNsaWRlQ291bnQgPSBiLiRzbGlkZXMubGVuZ3RoLCBiLmN1cnJlbnRTbGlkZSA+PSBiLnNsaWRlQ291bnQgJiYgMCAhPT0gYi5jdXJyZW50U2xpZGUgJiYgKGIuY3VycmVudFNsaWRlID0gYi5jdXJyZW50U2xpZGUgLSBiLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpLCBiLnNsaWRlQ291bnQgPD0gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiAoYi5jdXJyZW50U2xpZGUgPSAwKSwgYi5yZWdpc3RlckJyZWFrcG9pbnRzKCksIGIuc2V0UHJvcHMoKSwgYi5zZXR1cEluZmluaXRlKCksIGIuYnVpbGRBcnJvd3MoKSwgYi51cGRhdGVBcnJvd3MoKSwgYi5pbml0QXJyb3dFdmVudHMoKSwgYi5idWlsZERvdHMoKSwgYi51cGRhdGVEb3RzKCksIGIuaW5pdERvdEV2ZW50cygpLCBiLmNsZWFuVXBTbGlkZUV2ZW50cygpLCBiLmluaXRTbGlkZUV2ZW50cygpLCBiLmNoZWNrUmVzcG9uc2l2ZSghMSwgITApLCBiLm9wdGlvbnMuZm9jdXNPblNlbGVjdCA9PT0gITAgJiYgYShiLiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCJjbGljay5zbGljayIsIGIuc2VsZWN0SGFuZGxlciksIGIuc2V0U2xpZGVDbGFzc2VzKCJudW1iZXIiID09IHR5cGVvZiBiLmN1cnJlbnRTbGlkZSA/IGIuY3VycmVudFNsaWRlIDogMCksIGIuc2V0UG9zaXRpb24oKSwgYi5mb2N1c0hhbmRsZXIoKSwgYi5wYXVzZWQgPSAhYi5vcHRpb25zLmF1dG9wbGF5LCBiLmF1dG9QbGF5KCksIGIuJHNsaWRlci50cmlnZ2VyKCJyZUluaXQiLCBbYl0pIH0sIGIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsgdmFyIGIgPSB0aGlzOyBhKHdpbmRvdykud2lkdGgoKSAhPT0gYi53aW5kb3dXaWR0aCAmJiAoY2xlYXJUaW1lb3V0KGIud2luZG93RGVsYXkpLCBiLndpbmRvd0RlbGF5ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBiLndpbmRvd1dpZHRoID0gYSh3aW5kb3cpLndpZHRoKCksIGIuY2hlY2tSZXNwb25zaXZlKCksIGIudW5zbGlja2VkIHx8IGIuc2V0UG9zaXRpb24oKSB9LCA1MCkpIH0sIGIucHJvdG90eXBlLnJlbW92ZVNsaWRlID0gYi5wcm90b3R5cGUuc2xpY2tSZW1vdmUgPSBmdW5jdGlvbiAoYSwgYiwgYykgeyB2YXIgZCA9IHRoaXM7IHJldHVybiAiYm9vbGVhbiIgPT0gdHlwZW9mIGEgPyAoYiA9IGEsIGEgPSBiID09PSAhMCA/IDAgOiBkLnNsaWRlQ291bnQgLSAxKSA6IGEgPSBiID09PSAhMCA/IC0tYSA6IGEsIGQuc2xpZGVDb3VudCA8IDEgfHwgMCA+IGEgfHwgYSA+IGQuc2xpZGVDb3VudCAtIDEgPyAhMSA6IChkLnVubG9hZCgpLCBjID09PSAhMCA/IGQuJHNsaWRlVHJhY2suY2hpbGRyZW4oKS5yZW1vdmUoKSA6IGQuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5lcShhKS5yZW1vdmUoKSwgZC4kc2xpZGVzID0gZC4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLCBkLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksIGQuJHNsaWRlVHJhY2suYXBwZW5kKGQuJHNsaWRlcyksIGQuJHNsaWRlc0NhY2hlID0gZC4kc2xpZGVzLCB2b2lkIGQucmVpbml0KCkpIH0sIGIucHJvdG90eXBlLnNldENTUyA9IGZ1bmN0aW9uIChhKSB7IHZhciBkLCBlLCBiID0gdGhpcywgYyA9IHt9OyBiLm9wdGlvbnMucnRsID09PSAhMCAmJiAoYSA9IC1hKSwgZCA9ICJsZWZ0IiA9PSBiLnBvc2l0aW9uUHJvcCA/IE1hdGguY2VpbChhKSArICJweCIgOiAiMHB4IiwgZSA9ICJ0b3AiID09IGIucG9zaXRpb25Qcm9wID8gTWF0aC5jZWlsKGEpICsgInB4IiA6ICIwcHgiLCBjW2IucG9zaXRpb25Qcm9wXSA9IGEsIGIudHJhbnNmb3Jtc0VuYWJsZWQgPT09ICExID8gYi4kc2xpZGVUcmFjay5jc3MoYykgOiAoYyA9IHt9LCBiLmNzc1RyYW5zaXRpb25zID09PSAhMSA/IChjW2IuYW5pbVR5cGVdID0gInRyYW5zbGF0ZSgiICsgZCArICIsICIgKyBlICsgIikiLCBiLiRzbGlkZVRyYWNrLmNzcyhjKSkgOiAoY1tiLmFuaW1UeXBlXSA9ICJ0cmFuc2xhdGUzZCgiICsgZCArICIsICIgKyBlICsgIiwgMHB4KSIsIGIuJHNsaWRlVHJhY2suY3NzKGMpKSkgfSwgYi5wcm90b3R5cGUuc2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBhLm9wdGlvbnMudmVydGljYWwgPT09ICExID8gYS5vcHRpb25zLmNlbnRlck1vZGUgPT09ICEwICYmIGEuJGxpc3QuY3NzKHsgcGFkZGluZzogIjBweCAiICsgYS5vcHRpb25zLmNlbnRlclBhZGRpbmcgfSkgOiAoYS4kbGlzdC5oZWlnaHQoYS4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApICogYS5vcHRpb25zLnNsaWRlc1RvU2hvdyksIGEub3B0aW9ucy5jZW50ZXJNb2RlID09PSAhMCAmJiBhLiRsaXN0LmNzcyh7IHBhZGRpbmc6IGEub3B0aW9ucy5jZW50ZXJQYWRkaW5nICsgIiAwcHgiIH0pKSwgYS5saXN0V2lkdGggPSBhLiRsaXN0LndpZHRoKCksIGEubGlzdEhlaWdodCA9IGEuJGxpc3QuaGVpZ2h0KCksIGEub3B0aW9ucy52ZXJ0aWNhbCA9PT0gITEgJiYgYS5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09ICExID8gKGEuc2xpZGVXaWR0aCA9IE1hdGguY2VpbChhLmxpc3RXaWR0aCAvIGEub3B0aW9ucy5zbGlkZXNUb1Nob3cpLCBhLiRzbGlkZVRyYWNrLndpZHRoKE1hdGguY2VpbChhLnNsaWRlV2lkdGggKiBhLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5sZW5ndGgpKSkgOiBhLm9wdGlvbnMudmFyaWFibGVXaWR0aCA9PT0gITAgPyBhLiRzbGlkZVRyYWNrLndpZHRoKDVlMyAqIGEuc2xpZGVDb3VudCkgOiAoYS5zbGlkZVdpZHRoID0gTWF0aC5jZWlsKGEubGlzdFdpZHRoKSwgYS4kc2xpZGVUcmFjay5oZWlnaHQoTWF0aC5jZWlsKGEuJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSAqIGEuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmxlbmd0aCkpKTsgdmFyIGIgPSBhLiRzbGlkZXMuZmlyc3QoKS5vdXRlcldpZHRoKCEwKSAtIGEuJHNsaWRlcy5maXJzdCgpLndpZHRoKCk7IGEub3B0aW9ucy52YXJpYWJsZVdpZHRoID09PSAhMSAmJiBhLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS53aWR0aChhLnNsaWRlV2lkdGggLSBiKSB9LCBiLnByb3RvdHlwZS5zZXRGYWRlID0gZnVuY3Rpb24gKCkgeyB2YXIgYywgYiA9IHRoaXM7IGIuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChkLCBlKSB7IGMgPSBiLnNsaWRlV2lkdGggKiBkICogLTEsIGIub3B0aW9ucy5ydGwgPT09ICEwID8gYShlKS5jc3MoeyBwb3NpdGlvbjogInJlbGF0aXZlIiwgcmlnaHQ6IGMsIHRvcDogMCwgekluZGV4OiBiLm9wdGlvbnMuekluZGV4IC0gMiwgb3BhY2l0eTogMCB9KSA6IGEoZSkuY3NzKHsgcG9zaXRpb246ICJyZWxhdGl2ZSIsIGxlZnQ6IGMsIHRvcDogMCwgekluZGV4OiBiLm9wdGlvbnMuekluZGV4IC0gMiwgb3BhY2l0eTogMCB9KSB9KSwgYi4kc2xpZGVzLmVxKGIuY3VycmVudFNsaWRlKS5jc3MoeyB6SW5kZXg6IGIub3B0aW9ucy56SW5kZXggLSAxLCBvcGFjaXR5OiAxIH0pIH0sIGIucHJvdG90eXBlLnNldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBpZiAoMSA9PT0gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBhLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgPT09ICEwICYmIGEub3B0aW9ucy52ZXJ0aWNhbCA9PT0gITEpIHsgdmFyIGIgPSBhLiRzbGlkZXMuZXEoYS5jdXJyZW50U2xpZGUpLm91dGVySGVpZ2h0KCEwKTsgYS4kbGlzdC5jc3MoImhlaWdodCIsIGIpIH0gfSwgYi5wcm90b3R5cGUuc2V0T3B0aW9uID0gYi5wcm90b3R5cGUuc2xpY2tTZXRPcHRpb24gPSBmdW5jdGlvbiAoKSB7IHZhciBjLCBkLCBlLCBmLCBoLCBiID0gdGhpcywgZyA9ICExOyBpZiAoIm9iamVjdCIgPT09IGEudHlwZShhcmd1bWVudHNbMF0pID8gKGUgPSBhcmd1bWVudHNbMF0sIGcgPSBhcmd1bWVudHNbMV0sIGggPSAibXVsdGlwbGUiKSA6ICJzdHJpbmciID09PSBhLnR5cGUoYXJndW1lbnRzWzBdKSAmJiAoZSA9IGFyZ3VtZW50c1swXSwgZiA9IGFyZ3VtZW50c1sxXSwgZyA9IGFyZ3VtZW50c1syXSwgInJlc3BvbnNpdmUiID09PSBhcmd1bWVudHNbMF0gJiYgImFycmF5IiA9PT0gYS50eXBlKGFyZ3VtZW50c1sxXSkgPyBoID0gInJlc3BvbnNpdmUiIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIGFyZ3VtZW50c1sxXSAmJiAoaCA9ICJzaW5nbGUiKSksICJzaW5nbGUiID09PSBoKSBiLm9wdGlvbnNbZV0gPSBmOyBlbHNlIGlmICgibXVsdGlwbGUiID09PSBoKSBhLmVhY2goZSwgZnVuY3Rpb24gKGEsIGMpIHsgYi5vcHRpb25zW2FdID0gYyB9KTsgZWxzZSBpZiAoInJlc3BvbnNpdmUiID09PSBoKSBmb3IgKGQgaW4gZikgaWYgKCJhcnJheSIgIT09IGEudHlwZShiLm9wdGlvbnMucmVzcG9uc2l2ZSkpIGIub3B0aW9ucy5yZXNwb25zaXZlID0gW2ZbZF1dOyBlbHNlIHsgZm9yIChjID0gYi5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoIC0gMTsgYyA+PSAwOykgYi5vcHRpb25zLnJlc3BvbnNpdmVbY10uYnJlYWtwb2ludCA9PT0gZltkXS5icmVha3BvaW50ICYmIGIub3B0aW9ucy5yZXNwb25zaXZlLnNwbGljZShjLCAxKSwgYy0tOyBiLm9wdGlvbnMucmVzcG9uc2l2ZS5wdXNoKGZbZF0pIH0gZyAmJiAoYi51bmxvYWQoKSwgYi5yZWluaXQoKSkgfSwgYi5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5zZXREaW1lbnNpb25zKCksIGEuc2V0SGVpZ2h0KCksIGEub3B0aW9ucy5mYWRlID09PSAhMSA/IGEuc2V0Q1NTKGEuZ2V0TGVmdChhLmN1cnJlbnRTbGlkZSkpIDogYS5zZXRGYWRlKCksIGEuJHNsaWRlci50cmlnZ2VyKCJzZXRQb3NpdGlvbiIsIFthXSkgfSwgYi5wcm90b3R5cGUuc2V0UHJvcHMgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpcywgYiA9IGRvY3VtZW50LmJvZHkuc3R5bGU7IGEucG9zaXRpb25Qcm9wID0gYS5vcHRpb25zLnZlcnRpY2FsID09PSAhMCA/ICJ0b3AiIDogImxlZnQiLCAidG9wIiA9PT0gYS5wb3NpdGlvblByb3AgPyBhLiRzbGlkZXIuYWRkQ2xhc3MoInNsaWNrLXZlcnRpY2FsIikgOiBhLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLXZlcnRpY2FsIiksICh2b2lkIDAgIT09IGIuV2Via2l0VHJhbnNpdGlvbiB8fCB2b2lkIDAgIT09IGIuTW96VHJhbnNpdGlvbiB8fCB2b2lkIDAgIT09IGIubXNUcmFuc2l0aW9uKSAmJiBhLm9wdGlvbnMudXNlQ1NTID09PSAhMCAmJiAoYS5jc3NUcmFuc2l0aW9ucyA9ICEwKSwgYS5vcHRpb25zLmZhZGUgJiYgKCJudW1iZXIiID09IHR5cGVvZiBhLm9wdGlvbnMuekluZGV4ID8gYS5vcHRpb25zLnpJbmRleCA8IDMgJiYgKGEub3B0aW9ucy56SW5kZXggPSAzKSA6IGEub3B0aW9ucy56SW5kZXggPSBhLmRlZmF1bHRzLnpJbmRleCksIHZvaWQgMCAhPT0gYi5PVHJhbnNmb3JtICYmIChhLmFuaW1UeXBlID0gIk9UcmFuc2Zvcm0iLCBhLnRyYW5zZm9ybVR5cGUgPSAiLW8tdHJhbnNmb3JtIiwgYS50cmFuc2l0aW9uVHlwZSA9ICJPVHJhbnNpdGlvbiIsIHZvaWQgMCA9PT0gYi5wZXJzcGVjdGl2ZVByb3BlcnR5ICYmIHZvaWQgMCA9PT0gYi53ZWJraXRQZXJzcGVjdGl2ZSAmJiAoYS5hbmltVHlwZSA9ICExKSksIHZvaWQgMCAhPT0gYi5Nb3pUcmFuc2Zvcm0gJiYgKGEuYW5pbVR5cGUgPSAiTW96VHJhbnNmb3JtIiwgYS50cmFuc2Zvcm1UeXBlID0gIi1tb3otdHJhbnNmb3JtIiwgYS50cmFuc2l0aW9uVHlwZSA9ICJNb3pUcmFuc2l0aW9uIiwgdm9pZCAwID09PSBiLnBlcnNwZWN0aXZlUHJvcGVydHkgJiYgdm9pZCAwID09PSBiLk1velBlcnNwZWN0aXZlICYmIChhLmFuaW1UeXBlID0gITEpKSwgdm9pZCAwICE9PSBiLndlYmtpdFRyYW5zZm9ybSAmJiAoYS5hbmltVHlwZSA9ICJ3ZWJraXRUcmFuc2Zvcm0iLCBhLnRyYW5zZm9ybVR5cGUgPSAiLXdlYmtpdC10cmFuc2Zvcm0iLCBhLnRyYW5zaXRpb25UeXBlID0gIndlYmtpdFRyYW5zaXRpb24iLCB2b2lkIDAgPT09IGIucGVyc3BlY3RpdmVQcm9wZXJ0eSAmJiB2b2lkIDAgPT09IGIud2Via2l0UGVyc3BlY3RpdmUgJiYgKGEuYW5pbVR5cGUgPSAhMSkpLCB2b2lkIDAgIT09IGIubXNUcmFuc2Zvcm0gJiYgKGEuYW5pbVR5cGUgPSAibXNUcmFuc2Zvcm0iLCBhLnRyYW5zZm9ybVR5cGUgPSAiLW1zLXRyYW5zZm9ybSIsIGEudHJhbnNpdGlvblR5cGUgPSAibXNUcmFuc2l0aW9uIiwgdm9pZCAwID09PSBiLm1zVHJhbnNmb3JtICYmIChhLmFuaW1UeXBlID0gITEpKSwgdm9pZCAwICE9PSBiLnRyYW5zZm9ybSAmJiBhLmFuaW1UeXBlICE9PSAhMSAmJiAoYS5hbmltVHlwZSA9ICJ0cmFuc2Zvcm0iLCBhLnRyYW5zZm9ybVR5cGUgPSAidHJhbnNmb3JtIiwgYS50cmFuc2l0aW9uVHlwZSA9ICJ0cmFuc2l0aW9uIiksIGEudHJhbnNmb3Jtc0VuYWJsZWQgPSBhLm9wdGlvbnMudXNlVHJhbnNmb3JtICYmIG51bGwgIT09IGEuYW5pbVR5cGUgJiYgYS5hbmltVHlwZSAhPT0gITEgfSwgYi5wcm90b3R5cGUuc2V0U2xpZGVDbGFzc2VzID0gZnVuY3Rpb24gKGEpIHsNCiAgICAgICAgdmFyIGMsIGQsIGUsIGYsIGIgPSB0aGlzOyBkID0gYi4kc2xpZGVyLmZpbmQoIi5zbGljay1zbGlkZSIpLnJlbW92ZUNsYXNzKCJzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLWN1cnJlbnQiKS5hdHRyKCJhcmlhLWhpZGRlbiIsICJ0cnVlIiksIGIuJHNsaWRlcy5lcShhKS5hZGRDbGFzcygic2xpY2stY3VycmVudCIpLCBiLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgPyAoYyA9IE1hdGguZmxvb3IoYi5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpLCBiLm9wdGlvbnMuaW5maW5pdGUgPT09ICEwICYmIChhID49IGMgJiYgYSA8PSBiLnNsaWRlQ291bnQgLSAxIC0gYyA/IGIuJHNsaWRlcy5zbGljZShhIC0gYywgYSArIGMgKyAxKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCAiZmFsc2UiKSA6IChlID0gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyArIGEsDQogICAgICAgIGQuc2xpY2UoZSAtIGMgKyAxLCBlICsgYyArIDIpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsICJmYWxzZSIpKSwgMCA9PT0gYSA/IGQuZXEoZC5sZW5ndGggLSAxIC0gYi5vcHRpb25zLnNsaWRlc1RvU2hvdykuYWRkQ2xhc3MoInNsaWNrLWNlbnRlciIpIDogYSA9PT0gYi5zbGlkZUNvdW50IC0gMSAmJiBkLmVxKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKSksIGIuJHNsaWRlcy5lcShhKS5hZGRDbGFzcygic2xpY2stY2VudGVyIikpIDogYSA+PSAwICYmIGEgPD0gYi5zbGlkZUNvdW50IC0gYi5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IGIuJHNsaWRlcy5zbGljZShhLCBhICsgYi5vcHRpb25zLnNsaWRlc1RvU2hvdykuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwgImZhbHNlIikgOiBkLmxlbmd0aCA8PSBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gZC5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCAiZmFsc2UiKSA6IChmID0gYi5zbGlkZUNvdW50ICUgYi5vcHRpb25zLnNsaWRlc1RvU2hvdywgZSA9IGIub3B0aW9ucy5pbmZpbml0ZSA9PT0gITAgPyBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgYSA6IGEsIGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgPT0gYi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICYmIGIuc2xpZGVDb3VudCAtIGEgPCBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gZC5zbGljZShlIC0gKGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgLSBmKSwgZSArIGYpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsICJmYWxzZSIpIDogZC5zbGljZShlLCBlICsgYi5vcHRpb25zLnNsaWRlc1RvU2hvdykuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwgImZhbHNlIikpLCAib25kZW1hbmQiID09PSBiLm9wdGlvbnMubGF6eUxvYWQgJiYgYi5sYXp5TG9hZCgpDQogICAgfSwgYi5wcm90b3R5cGUuc2V0dXBJbmZpbml0ZSA9IGZ1bmN0aW9uICgpIHsgdmFyIGMsIGQsIGUsIGIgPSB0aGlzOyBpZiAoYi5vcHRpb25zLmZhZGUgPT09ICEwICYmIChiLm9wdGlvbnMuY2VudGVyTW9kZSA9ICExKSwgYi5vcHRpb25zLmluZmluaXRlID09PSAhMCAmJiBiLm9wdGlvbnMuZmFkZSA9PT0gITEgJiYgKGQgPSBudWxsLCBiLnNsaWRlQ291bnQgPiBiLm9wdGlvbnMuc2xpZGVzVG9TaG93KSkgeyBmb3IgKGUgPSBiLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgPyBiLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgMSA6IGIub3B0aW9ucy5zbGlkZXNUb1Nob3csIGMgPSBiLnNsaWRlQ291bnQ7IGMgPiBiLnNsaWRlQ291bnQgLSBlOyBjIC09IDEpIGQgPSBjIC0gMSwgYShiLiRzbGlkZXNbZF0pLmNsb25lKCEwKS5hdHRyKCJpZCIsICIiKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IiwgZCAtIGIuc2xpZGVDb3VudCkucHJlcGVuZFRvKGIuJHNsaWRlVHJhY2spLmFkZENsYXNzKCJzbGljay1jbG9uZWQiKTsgZm9yIChjID0gMDsgZSA+IGM7IGMgKz0gMSkgZCA9IGMsIGEoYi4kc2xpZGVzW2RdKS5jbG9uZSghMCkuYXR0cigiaWQiLCAiIikuYXR0cigiZGF0YS1zbGljay1pbmRleCIsIGQgKyBiLnNsaWRlQ291bnQpLmFwcGVuZFRvKGIuJHNsaWRlVHJhY2spLmFkZENsYXNzKCJzbGljay1jbG9uZWQiKTsgYi4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stY2xvbmVkIikuZmluZCgiW2lkXSIpLmVhY2goZnVuY3Rpb24gKCkgeyBhKHRoaXMpLmF0dHIoImlkIiwgIiIpIH0pIH0gfSwgYi5wcm90b3R5cGUuaW50ZXJydXB0ID0gZnVuY3Rpb24gKGEpIHsgdmFyIGIgPSB0aGlzOyBhIHx8IGIuYXV0b1BsYXkoKSwgYi5pbnRlcnJ1cHRlZCA9IGEgfSwgYi5wcm90b3R5cGUuc2VsZWN0SGFuZGxlciA9IGZ1bmN0aW9uIChiKSB7IHZhciBjID0gdGhpcywgZCA9IGEoYi50YXJnZXQpLmlzKCIuc2xpY2stc2xpZGUiKSA/IGEoYi50YXJnZXQpIDogYShiLnRhcmdldCkucGFyZW50cygiLnNsaWNrLXNsaWRlIiksIGUgPSBwYXJzZUludChkLmF0dHIoImRhdGEtc2xpY2staW5kZXgiKSk7IHJldHVybiBlIHx8IChlID0gMCksIGMuc2xpZGVDb3VudCA8PSBjLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gKGMuc2V0U2xpZGVDbGFzc2VzKGUpLCB2b2lkIGMuYXNOYXZGb3IoZSkpIDogdm9pZCBjLnNsaWRlSGFuZGxlcihlKSB9LCBiLnByb3RvdHlwZS5zbGlkZUhhbmRsZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykgeyB2YXIgZCwgZSwgZiwgZywgaiwgaCA9IG51bGwsIGkgPSB0aGlzOyByZXR1cm4gYiA9IGIgfHwgITEsIGkuYW5pbWF0aW5nID09PSAhMCAmJiBpLm9wdGlvbnMud2FpdEZvckFuaW1hdGUgPT09ICEwIHx8IGkub3B0aW9ucy5mYWRlID09PSAhMCAmJiBpLmN1cnJlbnRTbGlkZSA9PT0gYSB8fCBpLnNsaWRlQ291bnQgPD0gaS5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IHZvaWQgMCA6IChiID09PSAhMSAmJiBpLmFzTmF2Rm9yKGEpLCBkID0gYSwgaCA9IGkuZ2V0TGVmdChkKSwgZyA9IGkuZ2V0TGVmdChpLmN1cnJlbnRTbGlkZSksIGkuY3VycmVudExlZnQgPSBudWxsID09PSBpLnN3aXBlTGVmdCA/IGcgOiBpLnN3aXBlTGVmdCwgaS5vcHRpb25zLmluZmluaXRlID09PSAhMSAmJiBpLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITEgJiYgKDAgPiBhIHx8IGEgPiBpLmdldERvdENvdW50KCkgKiBpLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpID8gdm9pZCAoaS5vcHRpb25zLmZhZGUgPT09ICExICYmIChkID0gaS5jdXJyZW50U2xpZGUsIGMgIT09ICEwID8gaS5hbmltYXRlU2xpZGUoZywgZnVuY3Rpb24gKCkgeyBpLnBvc3RTbGlkZShkKSB9KSA6IGkucG9zdFNsaWRlKGQpKSkgOiBpLm9wdGlvbnMuaW5maW5pdGUgPT09ICExICYmIGkub3B0aW9ucy5jZW50ZXJNb2RlID09PSAhMCAmJiAoMCA+IGEgfHwgYSA+IGkuc2xpZGVDb3VudCAtIGkub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkgPyB2b2lkIChpLm9wdGlvbnMuZmFkZSA9PT0gITEgJiYgKGQgPSBpLmN1cnJlbnRTbGlkZSwgYyAhPT0gITAgPyBpLmFuaW1hdGVTbGlkZShnLCBmdW5jdGlvbiAoKSB7IGkucG9zdFNsaWRlKGQpIH0pIDogaS5wb3N0U2xpZGUoZCkpKSA6IChpLm9wdGlvbnMuYXV0b3BsYXkgJiYgY2xlYXJJbnRlcnZhbChpLmF1dG9QbGF5VGltZXIpLCBlID0gMCA+IGQgPyBpLnNsaWRlQ291bnQgJSBpLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDAgPyBpLnNsaWRlQ291bnQgLSBpLnNsaWRlQ291bnQgJSBpLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBpLnNsaWRlQ291bnQgKyBkIDogZCA+PSBpLnNsaWRlQ291bnQgPyBpLnNsaWRlQ291bnQgJSBpLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDAgPyAwIDogZCAtIGkuc2xpZGVDb3VudCA6IGQsIGkuYW5pbWF0aW5nID0gITAsIGkuJHNsaWRlci50cmlnZ2VyKCJiZWZvcmVDaGFuZ2UiLCBbaSwgaS5jdXJyZW50U2xpZGUsIGVdKSwgZiA9IGkuY3VycmVudFNsaWRlLCBpLmN1cnJlbnRTbGlkZSA9IGUsIGkuc2V0U2xpZGVDbGFzc2VzKGkuY3VycmVudFNsaWRlKSwgaS5vcHRpb25zLmFzTmF2Rm9yICYmIChqID0gaS5nZXROYXZUYXJnZXQoKSwgaiA9IGouc2xpY2soImdldFNsaWNrIiksIGouc2xpZGVDb3VudCA8PSBqLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIGouc2V0U2xpZGVDbGFzc2VzKGkuY3VycmVudFNsaWRlKSksIGkudXBkYXRlRG90cygpLCBpLnVwZGF0ZUFycm93cygpLCBpLm9wdGlvbnMuZmFkZSA9PT0gITAgPyAoYyAhPT0gITAgPyAoaS5mYWRlU2xpZGVPdXQoZiksIGkuZmFkZVNsaWRlKGUsIGZ1bmN0aW9uICgpIHsgaS5wb3N0U2xpZGUoZSkgfSkpIDogaS5wb3N0U2xpZGUoZSksIHZvaWQgaS5hbmltYXRlSGVpZ2h0KCkpIDogdm9pZCAoYyAhPT0gITAgPyBpLmFuaW1hdGVTbGlkZShoLCBmdW5jdGlvbiAoKSB7IGkucG9zdFNsaWRlKGUpIH0pIDogaS5wb3N0U2xpZGUoZSkpKSkgfSwgYi5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IHRoaXM7IGEub3B0aW9ucy5hcnJvd3MgPT09ICEwICYmIGEuc2xpZGVDb3VudCA+IGEub3B0aW9ucy5zbGlkZXNUb1Nob3cgJiYgKGEuJHByZXZBcnJvdy5oaWRlKCksIGEuJG5leHRBcnJvdy5oaWRlKCkpLCBhLm9wdGlvbnMuZG90cyA9PT0gITAgJiYgYS5zbGlkZUNvdW50ID4gYS5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBhLiRkb3RzLmhpZGUoKSwgYS4kc2xpZGVyLmFkZENsYXNzKCJzbGljay1sb2FkaW5nIikgfSwgYi5wcm90b3R5cGUuc3dpcGVEaXJlY3Rpb24gPSBmdW5jdGlvbiAoKSB7IHZhciBhLCBiLCBjLCBkLCBlID0gdGhpczsgcmV0dXJuIGEgPSBlLnRvdWNoT2JqZWN0LnN0YXJ0WCAtIGUudG91Y2hPYmplY3QuY3VyWCwgYiA9IGUudG91Y2hPYmplY3Quc3RhcnRZIC0gZS50b3VjaE9iamVjdC5jdXJZLCBjID0gTWF0aC5hdGFuMihiLCBhKSwgZCA9IE1hdGgucm91bmQoMTgwICogYyAvIE1hdGguUEkpLCAwID4gZCAmJiAoZCA9IDM2MCAtIE1hdGguYWJzKGQpKSwgNDUgPj0gZCAmJiBkID49IDAgPyBlLm9wdGlvbnMucnRsID09PSAhMSA/ICJsZWZ0IiA6ICJyaWdodCIgOiAzNjAgPj0gZCAmJiBkID49IDMxNSA/IGUub3B0aW9ucy5ydGwgPT09ICExID8gImxlZnQiIDogInJpZ2h0IiA6IGQgPj0gMTM1ICYmIDIyNSA+PSBkID8gZS5vcHRpb25zLnJ0bCA9PT0gITEgPyAicmlnaHQiIDogImxlZnQiIDogZS5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gITAgPyBkID49IDM1ICYmIDEzNSA+PSBkID8gImRvd24iIDogInVwIiA6ICJ2ZXJ0aWNhbCIgfSwgYi5wcm90b3R5cGUuc3dpcGVFbmQgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYywgZCwgYiA9IHRoaXM7IGlmIChiLmRyYWdnaW5nID0gITEsIGIuaW50ZXJydXB0ZWQgPSAhMSwgYi5zaG91bGRDbGljayA9IGIudG91Y2hPYmplY3Quc3dpcGVMZW5ndGggPiAxMCA/ICExIDogITAsIHZvaWQgMCA9PT0gYi50b3VjaE9iamVjdC5jdXJYKSByZXR1cm4gITE7IGlmIChiLnRvdWNoT2JqZWN0LmVkZ2VIaXQgPT09ICEwICYmIGIuJHNsaWRlci50cmlnZ2VyKCJlZGdlIiwgW2IsIGIuc3dpcGVEaXJlY3Rpb24oKV0pLCBiLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID49IGIudG91Y2hPYmplY3QubWluU3dpcGUpIHsgc3dpdGNoIChkID0gYi5zd2lwZURpcmVjdGlvbigpKSB7IGNhc2UgImxlZnQiOiBjYXNlICJkb3duIjogYyA9IGIub3B0aW9ucy5zd2lwZVRvU2xpZGUgPyBiLmNoZWNrTmF2aWdhYmxlKGIuY3VycmVudFNsaWRlICsgYi5nZXRTbGlkZUNvdW50KCkpIDogYi5jdXJyZW50U2xpZGUgKyBiLmdldFNsaWRlQ291bnQoKSwgYi5jdXJyZW50RGlyZWN0aW9uID0gMDsgYnJlYWs7IGNhc2UgInJpZ2h0IjogY2FzZSAidXAiOiBjID0gYi5vcHRpb25zLnN3aXBlVG9TbGlkZSA/IGIuY2hlY2tOYXZpZ2FibGUoYi5jdXJyZW50U2xpZGUgLSBiLmdldFNsaWRlQ291bnQoKSkgOiBiLmN1cnJlbnRTbGlkZSAtIGIuZ2V0U2xpZGVDb3VudCgpLCBiLmN1cnJlbnREaXJlY3Rpb24gPSAxIH0gInZlcnRpY2FsIiAhPSBkICYmIChiLnNsaWRlSGFuZGxlcihjKSwgYi50b3VjaE9iamVjdCA9IHt9LCBiLiRzbGlkZXIudHJpZ2dlcigic3dpcGUiLCBbYiwgZF0pKSB9IGVsc2UgYi50b3VjaE9iamVjdC5zdGFydFggIT09IGIudG91Y2hPYmplY3QuY3VyWCAmJiAoYi5zbGlkZUhhbmRsZXIoYi5jdXJyZW50U2xpZGUpLCBiLnRvdWNoT2JqZWN0ID0ge30pIH0sIGIucHJvdG90eXBlLnN3aXBlSGFuZGxlciA9IGZ1bmN0aW9uIChhKSB7IHZhciBiID0gdGhpczsgaWYgKCEoYi5vcHRpb25zLnN3aXBlID09PSAhMSB8fCAib250b3VjaGVuZCIgaW4gZG9jdW1lbnQgJiYgYi5vcHRpb25zLnN3aXBlID09PSAhMSB8fCBiLm9wdGlvbnMuZHJhZ2dhYmxlID09PSAhMSAmJiAtMSAhPT0gYS50eXBlLmluZGV4T2YoIm1vdXNlIikpKSBzd2l0Y2ggKGIudG91Y2hPYmplY3QuZmluZ2VyQ291bnQgPSBhLm9yaWdpbmFsRXZlbnQgJiYgdm9pZCAwICE9PSBhLm9yaWdpbmFsRXZlbnQudG91Y2hlcyA/IGEub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA6IDEsIGIudG91Y2hPYmplY3QubWluU3dpcGUgPSBiLmxpc3RXaWR0aCAvIGIub3B0aW9ucy50b3VjaFRocmVzaG9sZCwgYi5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gITAgJiYgKGIudG91Y2hPYmplY3QubWluU3dpcGUgPSBiLmxpc3RIZWlnaHQgLyBiLm9wdGlvbnMudG91Y2hUaHJlc2hvbGQpLCBhLmRhdGEuYWN0aW9uKSB7IGNhc2UgInN0YXJ0IjogYi5zd2lwZVN0YXJ0KGEpOyBicmVhazsgY2FzZSAibW92ZSI6IGIuc3dpcGVNb3ZlKGEpOyBicmVhazsgY2FzZSAiZW5kIjogYi5zd2lwZUVuZChhKSB9IH0sIGIucHJvdG90eXBlLnN3aXBlTW92ZSA9IGZ1bmN0aW9uIChhKSB7IHZhciBkLCBlLCBmLCBnLCBoLCBiID0gdGhpczsgcmV0dXJuIGggPSB2b2lkIDAgIT09IGEub3JpZ2luYWxFdmVudCA/IGEub3JpZ2luYWxFdmVudC50b3VjaGVzIDogbnVsbCwgIWIuZHJhZ2dpbmcgfHwgaCAmJiAxICE9PSBoLmxlbmd0aCA/ICExIDogKGQgPSBiLmdldExlZnQoYi5jdXJyZW50U2xpZGUpLCBiLnRvdWNoT2JqZWN0LmN1clggPSB2b2lkIDAgIT09IGggPyBoWzBdLnBhZ2VYIDogYS5jbGllbnRYLCBiLnRvdWNoT2JqZWN0LmN1clkgPSB2b2lkIDAgIT09IGggPyBoWzBdLnBhZ2VZIDogYS5jbGllbnRZLCBiLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID0gTWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3coYi50b3VjaE9iamVjdC5jdXJYIC0gYi50b3VjaE9iamVjdC5zdGFydFgsIDIpKSksIGIub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09ICEwICYmIChiLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID0gTWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3coYi50b3VjaE9iamVjdC5jdXJZIC0gYi50b3VjaE9iamVjdC5zdGFydFksIDIpKSkpLCBlID0gYi5zd2lwZURpcmVjdGlvbigpLCAidmVydGljYWwiICE9PSBlID8gKHZvaWQgMCAhPT0gYS5vcmlnaW5hbEV2ZW50ICYmIGIudG91Y2hPYmplY3Quc3dpcGVMZW5ndGggPiA0ICYmIGEucHJldmVudERlZmF1bHQoKSwgZyA9IChiLm9wdGlvbnMucnRsID09PSAhMSA/IDEgOiAtMSkgKiAoYi50b3VjaE9iamVjdC5jdXJYID4gYi50b3VjaE9iamVjdC5zdGFydFggPyAxIDogLTEpLCBiLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSAhMCAmJiAoZyA9IGIudG91Y2hPYmplY3QuY3VyWSA+IGIudG91Y2hPYmplY3Quc3RhcnRZID8gMSA6IC0xKSwgZiA9IGIudG91Y2hPYmplY3Quc3dpcGVMZW5ndGgsIGIudG91Y2hPYmplY3QuZWRnZUhpdCA9ICExLCBiLm9wdGlvbnMuaW5maW5pdGUgPT09ICExICYmICgwID09PSBiLmN1cnJlbnRTbGlkZSAmJiAicmlnaHQiID09PSBlIHx8IGIuY3VycmVudFNsaWRlID49IGIuZ2V0RG90Q291bnQoKSAmJiAibGVmdCIgPT09IGUpICYmIChmID0gYi50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCAqIGIub3B0aW9ucy5lZGdlRnJpY3Rpb24sIGIudG91Y2hPYmplY3QuZWRnZUhpdCA9ICEwKSwgYi5vcHRpb25zLnZlcnRpY2FsID09PSAhMSA/IGIuc3dpcGVMZWZ0ID0gZCArIGYgKiBnIDogYi5zd2lwZUxlZnQgPSBkICsgZiAqIChiLiRsaXN0LmhlaWdodCgpIC8gYi5saXN0V2lkdGgpICogZywgYi5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gITAgJiYgKGIuc3dpcGVMZWZ0ID0gZCArIGYgKiBnKSwgYi5vcHRpb25zLmZhZGUgPT09ICEwIHx8IGIub3B0aW9ucy50b3VjaE1vdmUgPT09ICExID8gITEgOiBiLmFuaW1hdGluZyA9PT0gITAgPyAoYi5zd2lwZUxlZnQgPSBudWxsLCAhMSkgOiB2b2lkIGIuc2V0Q1NTKGIuc3dpcGVMZWZ0KSkgOiB2b2lkIDApIH0sIGIucHJvdG90eXBlLnN3aXBlU3RhcnQgPSBmdW5jdGlvbiAoYSkgeyB2YXIgYywgYiA9IHRoaXM7IHJldHVybiBiLmludGVycnVwdGVkID0gITAsIDEgIT09IGIudG91Y2hPYmplY3QuZmluZ2VyQ291bnQgfHwgYi5zbGlkZUNvdW50IDw9IGIub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyAoYi50b3VjaE9iamVjdCA9IHt9LCAhMSkgOiAodm9pZCAwICE9PSBhLm9yaWdpbmFsRXZlbnQgJiYgdm9pZCAwICE9PSBhLm9yaWdpbmFsRXZlbnQudG91Y2hlcyAmJiAoYyA9IGEub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdKSwgYi50b3VjaE9iamVjdC5zdGFydFggPSBiLnRvdWNoT2JqZWN0LmN1clggPSB2b2lkIDAgIT09IGMgPyBjLnBhZ2VYIDogYS5jbGllbnRYLCBiLnRvdWNoT2JqZWN0LnN0YXJ0WSA9IGIudG91Y2hPYmplY3QuY3VyWSA9IHZvaWQgMCAhPT0gYyA/IGMucGFnZVkgOiBhLmNsaWVudFksIHZvaWQgKGIuZHJhZ2dpbmcgPSAhMCkpIH0sIGIucHJvdG90eXBlLnVuZmlsdGVyU2xpZGVzID0gYi5wcm90b3R5cGUuc2xpY2tVbmZpbHRlciA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB0aGlzOyBudWxsICE9PSBhLiRzbGlkZXNDYWNoZSAmJiAoYS51bmxvYWQoKSwgYS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLCBhLiRzbGlkZXNDYWNoZS5hcHBlbmRUbyhhLiRzbGlkZVRyYWNrKSwgYS5yZWluaXQoKSkgfSwgYi5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKCkgeyB2YXIgYiA9IHRoaXM7IGEoIi5zbGljay1jbG9uZWQiLCBiLiRzbGlkZXIpLnJlbW92ZSgpLCBiLiRkb3RzICYmIGIuJGRvdHMucmVtb3ZlKCksIGIuJHByZXZBcnJvdyAmJiBiLmh0bWxFeHByLnRlc3QoYi5vcHRpb25zLnByZXZBcnJvdykgJiYgYi4kcHJldkFycm93LnJlbW92ZSgpLCBiLiRuZXh0QXJyb3cgJiYgYi5odG1sRXhwci50ZXN0KGIub3B0aW9ucy5uZXh0QXJyb3cpICYmIGIuJG5leHRBcnJvdy5yZW1vdmUoKSwgYi4kc2xpZGVzLnJlbW92ZUNsYXNzKCJzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stdmlzaWJsZSBzbGljay1jdXJyZW50IikuYXR0cigiYXJpYS1oaWRkZW4iLCAidHJ1ZSIpLmNzcygid2lkdGgiLCAiIikgfSwgYi5wcm90b3R5cGUudW5zbGljayA9IGZ1bmN0aW9uIChhKSB7IHZhciBiID0gdGhpczsgYi4kc2xpZGVyLnRyaWdnZXIoInVuc2xpY2siLCBbYiwgYV0pLCBiLmRlc3Ryb3koKSB9LCBiLnByb3RvdHlwZS51cGRhdGVBcnJvd3MgPSBmdW5jdGlvbiAoKSB7IHZhciBiLCBhID0gdGhpczsgYiA9IE1hdGguZmxvb3IoYS5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpLCBhLm9wdGlvbnMuYXJyb3dzID09PSAhMCAmJiBhLnNsaWRlQ291bnQgPiBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmICFhLm9wdGlvbnMuaW5maW5pdGUgJiYgKGEuJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwgImZhbHNlIiksIGEuJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwgImZhbHNlIiksIDAgPT09IGEuY3VycmVudFNsaWRlID8gKGEuJHByZXZBcnJvdy5hZGRDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwgInRydWUiKSwgYS4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCAiZmFsc2UiKSkgOiBhLmN1cnJlbnRTbGlkZSA+PSBhLnNsaWRlQ291bnQgLSBhLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIGEub3B0aW9ucy5jZW50ZXJNb2RlID09PSAhMSA/IChhLiRuZXh0QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsICJ0cnVlIiksIGEuJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwgImZhbHNlIikpIDogYS5jdXJyZW50U2xpZGUgPj0gYS5zbGlkZUNvdW50IC0gMSAmJiBhLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gITAgJiYgKGEuJG5leHRBcnJvdy5hZGRDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwgInRydWUiKSwgYS4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCAiZmFsc2UiKSkpIH0sIGIucHJvdG90eXBlLnVwZGF0ZURvdHMgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgbnVsbCAhPT0gYS4kZG90cyAmJiAoYS4kZG90cy5maW5kKCJsaSIpLnJlbW92ZUNsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsICJ0cnVlIiksIGEuJGRvdHMuZmluZCgibGkiKS5lcShNYXRoLmZsb29yKGEuY3VycmVudFNsaWRlIC8gYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSkuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwgImZhbHNlIikpIH0sIGIucHJvdG90eXBlLnZpc2liaWxpdHkgPSBmdW5jdGlvbiAoKSB7IHZhciBhID0gdGhpczsgYS5vcHRpb25zLmF1dG9wbGF5ICYmIChkb2N1bWVudFthLmhpZGRlbl0gPyBhLmludGVycnVwdGVkID0gITAgOiBhLmludGVycnVwdGVkID0gITEpIH0sIGEuZm4uc2xpY2sgPSBmdW5jdGlvbiAoKSB7IHZhciBmLCBnLCBhID0gdGhpcywgYyA9IGFyZ3VtZW50c1swXSwgZCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGUgPSBhLmxlbmd0aDsgZm9yIChmID0gMDsgZSA+IGY7IGYrKykgaWYgKCJvYmplY3QiID09IHR5cGVvZiBjIHx8ICJ1bmRlZmluZWQiID09IHR5cGVvZiBjID8gYVtmXS5zbGljayA9IG5ldyBiKGFbZl0sIGMpIDogZyA9IGFbZl0uc2xpY2tbY10uYXBwbHkoYVtmXS5zbGljaywgZCksICJ1bmRlZmluZWQiICE9IHR5cGVvZiBnKSByZXR1cm4gZzsgcmV0dXJuIGEgfQ0KfSk7
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 47295
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20180204T141646Z
