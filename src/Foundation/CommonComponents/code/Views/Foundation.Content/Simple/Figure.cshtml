@using Sitecore.Mvc.Presentation
@using Sitecore.Mvc
@using SF.Foundation.CommonComponents
@using SF.Foundation.Container
@using SF.Foundation.Structure

@{
    bool hasCaption = !string.IsNullOrEmpty(Model.Item.Fields["Caption"].Value);

}
<figure @Html.GetContainerTagAttributes("")>
@Html.Sitecore().Field("Image")
    @if (hasCaption || Sitecore.Context.PageMode.IsExperienceEditorEditing)
    { 
        <figcaption>@Html.Sitecore().Field("Caption")</figcaption>
    }
</figure>
